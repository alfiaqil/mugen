; KFM's constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

; �����KFM�̒萔�Ə�Ԃ̃t�@�C���ł��B
; ���̃t�@�C���̒��ɂ͒��߂��U�炳��Ă���̂ŁACNS���K������������
; �ǂ�ł݂��炢���ł��B

[Data]
life = 1500
power = 7000;jambu;3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 25
airjuggle = 20
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 255
IntPersistIndex = 50
FloatPersistIndex = 40

[Size]
xscale = 1.04
yscale = 1.04
ground.back = 14
ground.front = 14
air.back = 10
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -90
mid.pos = 0, -62
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 3.0
walk.back = -2.2
run.fwd  = 13.0, 0
run.back = -8.7,-5.5
jump.neu = 0,-14.5
jump.back = -2.85
jump.fwd = 3.2
runjump.back = -4.0,-8.1
runjump.fwd = 5,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .78
stand.friction = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Used in kfm.cmd for combo condition (updated every tick)
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).

;---------------------------------------------------------------------------
; �ς�[MAX
[Statedef 700]
type = S
ctrl = 0
anim = 700
velset = 0,0
movetype = I
physics = N

[State -2]
type = varset
trigger1 = 1
v = 18
value = 1000
ignorehitpause = 1
persistent=0

[State -2]
type = varset
trigger1 = 1
v = 17
value = 1
ignorehitpause = 1
persistent=0

[State -2]
type = poweradd
trigger1 = time = 0
value = -1000
ignorehitpause = 1
persistent=0

[State 3000, Super A]
type = explod
trigger1 = time = 0
anim = 11020
ownpal = 1
pos = 0,-50
facing =ifelse(facing=1,1,-1)
bindtime = 1
sprpriority = 5
[State 3000, Super A]
type = helper
trigger1 = animelem = 2
stateno = 701
ownpal = 1
facing =ifelse(facing=1,1,-1)
[State 3000, Super A]
type = envshake
trigger1 = animelem = 2
time = 16
freq = 80
ampl = -4
[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 103, 3
volume = 255
[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 5, 1
volume = 255

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; PMAX�w���p�[
[Statedef 701]
type = S
ctrl = 0
anim = 9999
velset = 0,-8
movetype = I
physics = N

[State 3000, Super A]
type = velmul
trigger1 = 1
y = 0.92
[State 3000, Super A]
type = explod
trigger1 = time = 0
anim = 11021
id = 900
ownpal = 1
pos = 0,-50
removetime = 65
bindtime = -1
sprpriority = -1
[State 3000, Super A]
type = modifyexplod
trigger1 = time < 18
id = 900
scale = 0.055*time,0.055*time
[State 3000, Super A]
type = modifyexplod
trigger1 = time >= 18
id = 900
scale = 1,1
[State 3000, 1]
type = PlaySnd
trigger1 = time = 0
value = 25, 4
[State 3000, 1]
type = PlaySnd
trigger1 = time = 2
value = 25, 5

[State 195, 2]
type = destroyself
trigger1 = Time = 65
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; �ߎ�P
[Statedef 200]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 2

[State -1, Stand Light Punch];�������؂�ւ�
type = ChangeState
trigger1 = time = 0
trigger1 = p2bodydist X >= 25
value = 201

[State 210, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = light
getpower = ceil(4*fvar(12)),ceil(2*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(2*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s30000
guard.sparkno = s30040
sparkxy = -10,-80
hitsound   = s3,0
guardsound = s5,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
guard.hittime = 10
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random = [0,499]
value = 20, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ����P
[Statedef 201]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 201
sprpriority = 2

[State 50000, 3]
type = Explod
trigger1 = GameTime%2 = 0
trigger1 = AnimElemTime(2) >= 0
trigger1 = AnimElemTime(8) < 0
anim = 2000+AnimElemNo(0)-2
pos = 0,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = light
getpower = ceil(4*fvar(12)),ceil(2*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(4*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s30000
guard.sparkno = s30040
sparkxy = -10,-70
hitsound   = s1,0+random%6
guardsound = s5,0
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime = 10
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 20, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; �ߋ�P
[Statedef 210]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 202
sprpriority = 2

[State -1, Stand Light Punch];�������؂�ւ�
type = ChangeState
trigger1 = time = 0
trigger1 = p2bodydist X >= 20
value = 214

[State 230, 1]
type = posadd
trigger1 = animelem = 4
x = 8
[State 230, 1]
type = posadd
trigger1 = animelem = 9
x = -8

[State 50000, 3]
type = Explod
trigger1 = GameTime%2 = 0
trigger1 = AnimElemTime(2) >= 0
trigger1 = AnimElemTime(7) < 0
anim = 2010+AnimElemNo(0)-2
pos = ifelse(animelem=4,<0,0,-8),0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = mid
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(7*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -30,-70
hitsound   = s1,6+random%6
guardsound = s5,1
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 18
ground.velocity = -11.5
ground.cornerpush.veloff = -14.4
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ����P
[Statedef 214]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 203
sprpriority = 2

[State 230, 1]
type = posadd
trigger1 = animelem = 5
x = 16
[State 230, 1]
type = posadd
trigger1 = animelem = 13
x = -16

[State 50000, 3]
type = Explod
trigger1 = GameTime%2 = 0
trigger1 = AnimElemTime(3) >= 0
trigger1 = AnimElemTime(11) < 0
anim = 2020+AnimElemNo(0)-3
pos = ifelse(animelem=5,<0,0,-16),0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 210, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = mid
getpower = ceil(5*fvar(12)),ceil(2*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(ifelse(var(8)=1,22,13)*fvar(11)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -40,-60
hitsound   = s1,6+random%6
guardsound = s5,1
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 18
ground.velocity = -11.5
ground.cornerpush.veloff = -14.4
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; �ߎ�K
[Statedef 230]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 205
sprpriority = 2

[State -1, Stand Light Punch];�������؂�ւ�
type = ChangeState
trigger1 = time = 0
trigger1 = p2bodydist X >= 30
value = 237


[State 210, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
animtype  = light
getpower = ceil(4*fvar(12)),ceil(2*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(4*fvar(11)*fvar(9)*fvar(10)),0
guardflag = L
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s30000
guard.sparkno = s30040
sparkxy = -20,-20
hitsound   = s3,1
guardsound = s5,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime = 10
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random = [0,499]
value = 20, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ����K
[Statedef 237]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 206
sprpriority = 2


[State 210, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = light
getpower = ceil(4*fvar(12)),ceil(2*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(4*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s30000
guard.sparkno = s30040
sparkxy = -20,-80
hitsound   = s3,1
guardsound = s5,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
guard.hittime = 10
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random = [0,499]
value = 20, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; �ߋ�K
[Statedef 240]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 207
sprpriority = 2

[State -1, Stand Light Punch];�������؂�ւ�
type = ChangeState
trigger1 = time = 0
trigger1 = p2bodydist X >= 25
value = 248


[State 210, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = mid
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(6*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -30,-70
hitsound   = s3,3
guardsound = s5,2
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 18
ground.velocity = -11.5
ground.cornerpush.veloff = -14.4
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ����K
[Statedef 248]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 208
sprpriority = 2


[State 210, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = mid
getpower = ceil(8*fvar(12)),ceil(4*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(8*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -30,-80
hitsound   = s3,3
guardsound = s5,2
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 18
ground.velocity = -11.5
ground.cornerpush.veloff = -14.4
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; �����ӂ��Ƃ΂�
[Statedef 599]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 8
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 230, 1]
type = posadd
trigger1 = animelem = 3
x = 16
[State 230, 1]
type = posadd
trigger1 = animelem = 13
x = -16


[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = mid
getpower = ceil(8*fvar(12)),ceil(4*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(9*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAFD
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-85
hitsound   = s3,4
guardsound = s5,3
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 21
guard.velocity = -12.5
ground.velocity = -3,-8
ground.cornerpush.veloff = -16.0
air.velocity = -3,-8
yaccel = 0.5
fall = 1 
air.hittime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ��ӂ��Ƃ΂�
[Statedef 611]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 0
ctrl = 0
anim = 211
sprpriority = 2

[State 3000, 1]
type = statetypeset
trigger1 = AnimElem=8,>=0 && var(24) >= 1
trigger2 = (teammode = single || teammode = turns)&&var(5)=1&&var(4)>=1
movetype = I
[State 3000, 1]
type = statetypeset
trigger1 = AnimElem=8,<0
trigger1 = (teammode = single || teammode = turns)&&var(5)=0
movetype = A
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit = 1
trigger1 = var(8) = 0
trigger1 = p2stateno!=[80100,80102]
value = 80003
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit = 1
trigger1 = var(8) = 1
trigger1 = p2stateno!=[80100,80102]
value = 80002
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit=1&&var(10)>=100
value = 80100
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&moveguarded=1&&var(11)>=100&&var(4)=0
value = 80200
ignorehitpause = 1
persistent=0
[State 3000, 1];�C��l
type = varadd
trigger1 = movehit=1
var(10) = 20
ignorehitpause = 1
persistent=0
[State 3000, 1];�K�N���l
type = varadd
trigger1 = moveguarded=1
var(11) = 14
ignorehitpause = 1
persistent=0

[State 210, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = mid
getpower = ceil(8*fvar(12)),ceil(4*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(8*fvar(11)*fvar(9)*fvar(10)),0
guardflag = MA
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -20,-55
hitsound   = s3,4
guardsound = s5,3
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 21
guard.velocity = -12.5
ground.velocity = -3,-8
ground.cornerpush.veloff = -16.0
air.velocity = -3,-8
yaccel = 0.5
fall = 1 
airguard.ctrltime = 120
air.hittime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 21, 0+random%3
channel = 0

;---------------------------------------------------------------------------
; �d���V��
[Statedef 236]
type    = C
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 212
sprpriority = 2

[State 50000, 3]
type = velset
trigger1 = animelem = 3
x = 4
[State 50000, 3]
type = statetypeset
trigger1 = animelem = 4
statetype = A
[State 50000, 3]
type = velset
trigger1 = animelem = 4
x = 3.5
y = -3.5
[State 50000, 3]
type = veladd
trigger1 = animelem = 4,>0
y = 0.3
x = -0.05

[State 5100, 8]
type = explod
trigger1 = animelem = 3
anim = 11002
pos = -20, 0
ownpal = 1
sprpriority = 3


[State 210, 2]
type = HitDef
trigger1 = animelem = 6
attr = A, NA
animtype  = mid
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12)),ceil(1*fvar(12))
damage    = ceil(2*fvar(11)*fvar(9)*fvar(10)),0
guardflag = HA
hitflag = MAF
pausetime = 11,11
sparkno = s30000
guard.sparkno = s30040
sparkxy = -10,-25
hitsound   = s3,1
guardsound = s5,2
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.hittime = 18
guard.velocity = -5.2
ground.velocity = -4.5
guard.cornerpush.veloff = -6.0
ground.cornerpush.veloff = -4.5
air.velocity = -3,-6
yaccel = 0.5
air.fall = 1
fall.recovertime = 20
air.hittime = 120
airguard.ctrltime = 120

[State 210, 2]
type = HitDef
trigger1 = animelem = 10
attr = A, NA
animtype  = hard
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12)),ceil(1*fvar(12))
damage    = ceil(4*fvar(11)*fvar(9)*fvar(10)),0
guardflag = HA
hitflag = MAF
pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-45
hitsound   = s3,1
guardsound = s5,2
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.hittime = 18
guard.velocity = -6.2
ground.velocity = -12.5
ground.cornerpush.veloff = -16.5
air.velocity = -3,-8
yaccel = 0.5
air.fall = 1
fall.recovertime = 20
air.hittime = 120
airguard.ctrltime = 120

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 9
value = 20, 2
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = pos Y >= 0
trigger1 = vel Y > 0
value = 213

;---------------------------------------------------------------------------
; Jump Land
[Statedef 213]
type    = S
physics = S
anim = 213

[State -3, Landing Sound]
type = PlaySnd
trigger1 = Time = 0
value = 6, 0
volume = 200

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0
x = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; �_�b�V��P
[Statedef 215]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
anim = 216
sprpriority = 2

[State 230, 1]
type = velmul
trigger1 = time > 1
x = 0.85

[State 230, 1]
type = posadd
trigger1 = animelem = 4
x = 8
[State 230, 1]
type = posadd
trigger1 = animelem = 9
x = -8

[State 50000, 3]
type = Explod
trigger1 = GameTime%2 = 0
trigger1 = AnimElemTime(2) >= 0
trigger1 = AnimElemTime(7) < 0
anim = 2010+AnimElemNo(0)-2
pos = ifelse(animelem=4,<0,0,-8),0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 3000, 1]
type = statetypeset
trigger1 = AnimElem=5,>=0 && var(24) >= 1
trigger2 = (teammode = single || teammode = turns)&&var(5)=1&&var(4)>=1
movetype = I
[State 3000, 1]
type = statetypeset
trigger1 = AnimElem=5,<0
trigger1 = (teammode = single || teammode = turns)&&var(5)=0
movetype = A
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit = 1
trigger1 = var(4) = 2
trigger1 = p2stateno!=[80100,80102]
value = 80000
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit = 1
trigger1 = var(4) > 0 && var(8) = 1
trigger1 = p2stateno!=[80100,80102]
value = 80002
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit=1&&var(10)>=100
value = 80100
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&moveguarded=1&&var(11)>=100&&var(4)=0
value = 80200
ignorehitpause = 1
persistent=0
[State 3000, 1];�C��l
type = varadd
trigger1 = movehit=1
var(10) = 8
ignorehitpause = 1
persistent=0
[State 3000, 1];�K�N���l
type = varadd
trigger1 = moveguarded=1
var(11) = 16
ignorehitpause = 1
persistent=0

[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = mid
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(5*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 14,14
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -30,-70
hitsound   = s1,6+random%6
guardsound = s5,1
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 18
ground.velocity = -11.5
ground.cornerpush.veloff = -14.4
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; �_�b�V��K
[Statedef 216]
type    = C
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
anim = 223
sprpriority = 2

[State 230, 1]
type = velmul
trigger1 = 1
x = 0.85

[State 3000, 1]
type = statetypeset
trigger1 = AnimElem=5,>=0 && var(24) >= 1
trigger2 = (teammode = single || teammode = turns)&&var(5)=1&&var(4)>=1
movetype = I
[State 3000, 1]
type = statetypeset
trigger1 = AnimElem=5,<0
trigger1 = (teammode = single || teammode = turns)&&var(5)=0
movetype = A
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit = 1
trigger1 = var(8) = 0
trigger1 = p2stateno!=[80100,80102]
value = 80001
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit = 1
trigger1 = var(8) = 1
trigger1 = p2stateno!=[80100,80102]
value = 80002
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit=1&&var(10)>=100
value = 80100
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&moveguarded=1&&var(11)>=100&&var(4)=0
value = 80200
ignorehitpause = 1
persistent=0
[State 3000, 1];�C��l
type = varadd
trigger1 = movehit=1
var(10) = 20
ignorehitpause = 1
persistent=0
[State 3000, 1];�K�N���l
type = varadd
trigger1 = moveguarded=1
var(11) = 10
ignorehitpause = 1
persistent=0

[State 210, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
animtype  = mid
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(5*fvar(11)*fvar(9)*fvar(10)),0
guardflag = L
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-25
hitsound   = s3,3
guardsound = s5,2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 18
guard.velocity = -11.5
ground.velocity = -3,-10
ground.cornerpush.veloff = -14.4
air.velocity = -3,-10
yaccel = 0.75
fall = 1 
air.hittime = 120
fall.recover = 0

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; ����P
[Statedef 402]
type    = C
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 2

[State 50000, 3]
type = Explod
trigger1 = GameTime%2 = 0
trigger1 = AnimElemTime(2) >= 0
trigger1 = AnimElemTime(7) < 0
anim = 2030+AnimElemNo(0)-2
pos = 0,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = light
getpower = ceil(4*fvar(12)),ceil(2*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(3*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s30000
guard.sparkno = s30040
sparkxy = -20,-30
hitsound   = s2,0+random%8
guardsound = s5,0
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime = 10
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random = [0,499]
value = 20, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; ����P
[Statedef 412]
type    = C
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 221
sprpriority = 2

[State 50000, 3]
type = Explod
trigger1 = GameTime%2 = 0
trigger1 = AnimElemTime(3) >= 0
trigger1 = AnimElemTime(9) < 0
anim = 2040+AnimElemNo(0)-3
pos = 0,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
animtype  = mid
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(6*fvar(11)*fvar(9)*fvar(10)),0
guardflag = L
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-10
hitsound   = s1,6+random%6
guardsound = s5,1
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 18
ground.velocity = -11.5
ground.cornerpush.veloff = -14.4
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; ����K
[Statedef 432]
type    = C
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 222
sprpriority = 2


[State 210, 2]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
animtype  = light
getpower = ceil(4*fvar(12)),ceil(2*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(2*fvar(11)*fvar(9)*fvar(10)),0
guardflag = L
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s30000
guard.sparkno = s30040
sparkxy = -10,-5
hitsound   = s3,1
guardsound = s5,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
guard.hittime = 10
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = random = [0,499]
value = 20, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; ����K
[Statedef 441]
type    = C
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 223
sprpriority = 2


[State 210, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
animtype  = mid
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(8*fvar(11)*fvar(9)*fvar(10)),0
guardflag = L
hitflag = MAFD
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-25
hitsound   = s3,3
guardsound = s5,2
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 18
guard.velocity = -11.5
ground.velocity = -2,-4
ground.cornerpush.veloff = -14.4
air.velocity = -2,-4
yaccel = 0.75
air.hittime = 120
fall.recover = 0

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; ���P
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 0
ctrl = 0
anim = 230
sprpriority = 2

[State 50000, 3]
type = Explod
trigger1 = GameTime%2 = 0
trigger1 = AnimElemTime(3) >= 0
trigger1 = AnimElemTime(9) < 0
anim = 2000+AnimElemNo(0)-3
pos = 0,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 210, 2]
type = HitDef
trigger1 = animelem = 5
attr = A, NA
animtype  = light
getpower = ceil(4*fvar(12)),ceil(2*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(3*fvar(11)*fvar(9)*fvar(10)),0
guardflag = HA
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s30000
guard.sparkno = s30040
sparkxy = -10,-60
hitsound   = s1,0+random%6
guardsound = s5,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
guard.hittime = 10
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20
airguard.ctrltime = 120

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 20, 0+random%3
channel = 0

;---------------------------------------------------------------------------
; ��P
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 0
ctrl = 0
anim = 231
sprpriority = 2

[State 50000, 3]
type = Explod
trigger1 = GameTime%2 = 0
trigger1 = AnimElemTime(3) >= 0
trigger1 = AnimElemTime(12) < 0
anim = 2050+AnimElemNo(0)-3
pos = 0,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 210, 2]
type = HitDef
trigger1 = animelem = 6
attr = A, NA
animtype  = light
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(5*fvar(11)*fvar(9)*fvar(10)),0
guardflag = HA
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-30
hitsound   = s1,6+random%6
guardsound = s5,1
ground.type = low
ground.slidetime = 18
ground.hittime  = 12
guard.hittime = 18
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20
airguard.ctrltime = 120

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 21, 0+random%3
channel = 0


;---------------------------------------------------------------------------
; ���K
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 0
ctrl = 0
anim = 232
sprpriority = 2


[State 210, 2]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
animtype  = light
getpower = ceil(4*fvar(12)),ceil(2*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(2*fvar(11)*fvar(9)*fvar(10)),0
guardflag = HA
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s30000
guard.sparkno = s30040
sparkxy = -10,-20
hitsound   = s3,1
guardsound = s5,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime = 10
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20
airguard.ctrltime = 120

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 20, 0+random%3
channel = 0

;---------------------------------------------------------------------------
; ��K
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 0
ctrl = 0
anim = 233
sprpriority = 2

[State 210, 2]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
animtype  = light
getpower = ceil(6*fvar(12)),ceil(3*fvar(12))
givepower = ceil(1*fvar(12))
damage    = ceil(4*fvar(11)*fvar(9)*fvar(10)),0
guardflag = HA
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -20,-20
hitsound   = s3,3
guardsound = s5,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 12
guard.hittime = 18
ground.velocity = -5.2
ground.cornerpush.veloff = -6.2
air.velocity = -3,-8
yaccel = 0.5 
air.hittime = 120
fall.recovertime = 20
airguard.ctrltime = 120

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 21, 0+random%3
channel = 0

;---------------------------------------------------------------------------
;�O�]
[Statedef 250]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 250
sprpriority = -1

[State 50, �c��]
type = AfterImage
trigger1 = time = 0
palbright = 30,30,30
palcontrast = 225,225,225
paladd = 0,0,0
palmul = 1,1,1
trans = none
timegap = 2
framegap = 3
length = 6
time = 31

[State 230, 1]
type = velset
trigger1 = animelem = 2
x = 4.75*ifelse((prevstateno=[100,101]),1.5,1.0)

[State 230, 1]
type = hitby
trigger1 = animelem =7,<0
value = SCA,AT

[State 230, 1]
type = playerpush
trigger1 = animelem =6,<0
value = 0

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 20, 0
channel = 0
volume = 0

[State 230, 1]
type = velset
trigger1 = animelem = 7
x = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;��]
[Statedef 251]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 251
sprpriority = -1

[State 50, �c��]
type = AfterImage
trigger1 = time = 0
palbright = 30,30,30
palcontrast = 225,225,225
paladd = 0,0,0
palmul = 1,1,1
trans = none
timegap = 2
framegap = 3
length = 6
time = 31

[State 230, 1]
type = velset
trigger1 = animelem = 2
x = -4.75*ifelse((prevstateno=[100,101]),1.5,1.0)

[State 230, 1]
type = hitby
trigger1 = animelem =7,<0
value = SCA,AT

[State 230, 1]
type = playerpush
trigger1 = animelem =6,<0
value = 0

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 20, 0
channel = 0
volume = 0

[State 230, 1]
type = velset
trigger1 = animelem = 7
x = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; GC�ӂ��Ƃ΂�
[Statedef 561]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 230, 1]
type = explod
trigger1 = time = 0
anim = 11012
pos = 15,-60
ontop = 1
ownpal = 1
pausemovetime=123456789
[State 230, 1]
type = BGpalfx
trigger1 = time = 0
add = 256,256,256
time = 2
persistent=0
[State 230, 1]
type = poweradd
trigger1 = time = 0
value = -1000
persistent=0
[State 230, 1]
type = pause
trigger1 = time = 0
time = 6

[State 230, 1]
type = posadd
trigger1 = animelem = 3
x = 16
[State 230, 1]
type = posadd
trigger1 = animelem = 13
x = -16

[State 3000, 1]
type = nothitby
trigger1 = AnimElem=8,<0
value = SCA,AA,AT,AP

[State 3000, 1]
type = statetypeset
trigger1 = AnimElem=8,>=0 && var(24) >= 1
trigger2 = (teammode = single || teammode = turns)&&var(5)=1&&var(4)>=1
movetype = I
[State 3000, 1]
type = statetypeset
trigger1 = AnimElem=8,<0
trigger1 = (teammode = single || teammode = turns)&&var(5)=0
movetype = A
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit = 1
trigger1 = p2stateno!=[80100,80102]
value = 80003
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&movehit=1&&var(10)>=100
value = 80100
ignorehitpause = 1
persistent=0
[State 3000, 1]
type = targetstate
trigger1 = HitPauseTime>0&&moveguarded=1&&var(11)>=100&&var(4)=0
value = 80200
ignorehitpause = 1
persistent=0
[State 3000, 1];�C��l
type = varadd
trigger1 = movehit=1
var(10) = 8
ignorehitpause = 1
persistent=0
[State 3000, 1];�K�N���l
type = varadd
trigger1 = moveguarded=1
var(11) = 6
ignorehitpause = 1
persistent=0

[State 210, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, SA
animtype  = mid
getpower = 0,0
givepower = ceil(1*fvar(12))
damage    = ceil(6*fvar(11)*fvar(9)*fvar(10)),0
guardflag = M
hitflag = MAF
pausetime = 11,11
guard.pausetime = 11,11
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-85
hitsound   = s3,4
guardsound = s5,3
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime = 21
guard.velocity = -12.5
ground.velocity = -3,-8
ground.cornerpush.veloff = -16.0
air.velocity = -3,-8
yaccel = 0.5
fall = 1 
air.hittime = 20

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1
[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 21, 0+random%3
channel = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;GC�O�]
[Statedef 261]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 252
sprpriority = -1

[State 230, 1]
type = explod
trigger1 = time = 0
anim = 11012
pos = 0,-60
ontop = 1
ownpal = 1
pausemovetime=123456789
[State 230, 1]
type = BGpalfx
trigger1 = time = 0
add = 256,256,256
time = 2
persistent=0
[State 230, 1]
type = poweradd
trigger1 = time = 0
value = -1000
persistent=0
[State 230, 1]
type = pause
trigger1 = time = 0
time = 6
movetime = 6

[State 50, �c��]
type = AfterImage
trigger1 = time = 0
palbright = 30,0,0 
palcolor = 0
palcontrast = 128,128,255
paladd = 0,0,0
palmul = 1,1,1
trans = none
timegap = 2
framegap = 3
length = 6
time = 31

[State 230, 1]
type = velset
trigger1 = animelem = 2
x = 7.0

[State 230, 1]
type = nothitby
trigger1 = 1
value = SCA,AA,AT,AP
time = 1

[State 230, 1]
type = playerpush
trigger1 = animelem =6,<0
value = 0

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 20, 0
channel = 0
volume = 0

[State 230, 1]
type = velset
trigger1 = animelem = 7
x = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;GC��]
[Statedef 262]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 253
sprpriority = -1

[State 230, 1]
type = explod
trigger1 = time = 0
anim = 11012
pos = 0,-60
ontop = 1
ownpal = 1
pausemovetime=123456789
[State 230, 1]
type = BGpalfx
trigger1 = time = 0
add = 256,256,256
time = 2
persistent=0
[State 230, 1]
type = poweradd
trigger1 = time = 0
value = -1000
persistent=0
[State 230, 1]
type = pause
trigger1 = time = 0
time = 6
movetime = 6

[State 50, �c��]
type = AfterImage
trigger1 = time = 0
palbright = 30,0,0 
palcolor = 0
palcontrast = 128,128,255
paladd = 0,0,0
palmul = 1,1,1
trans = none
timegap = 2
framegap = 3
length = 6
time = 31

[State 230, 1]
type = velset
trigger1 = animelem = 2
x = -7.0

[State 230, 1]
type = nothitby
trigger1 = 1
value = SCA,AA,AT,AP
time = 1

[State 230, 1]
type = playerpush
trigger1 = animelem =6,<0
value = 0

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 20, 0
channel = 0
volume = 0

[State 230, 1]
type = velset
trigger1 = animelem = 7
x = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;P����
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 300
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
getpower = ceil(8*fvar(12))
givepower = ceil(1*fvar(12))
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 301
p2stateno = 302
guard.dist = 0
fall = 1
id = 300

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 202

;---------------------------------------------------------------------------
;����2
[Statedef 301]
type    = A
movetype= A
physics = N
anim = 301
poweradd = 0
sprpriority = 2

[State 3000, 1]
type = Width
trigger1 = time = 0
value = 0,50

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 0
[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 1
[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 8
value = 6, 5
[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 8
value = 6, 6

[State 810, Pos 15]
type = Posset
trigger1 = AnimElem = 2
x = target,pos X
y = target,Const(size.head.pos.y)
[State 1220, 1]
type = explod
trigger1 = AnimElem = 2
anim = 10053
pos = 0,0
sprpriority = 3
[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 20, 0
[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 8
value = 20, 2

[State 810, Pos 15]
type = PosAdd
trigger1 = AnimElem = 7
y = floor(pos Y/-3)
[State 810, Pos 15]
type = Posset
trigger1 = AnimElem = 8
y = 0
[State 810, Pos 15]
type = Posadd
trigger1 = AnimElem = 8
x = -15

[State 810, Bind 1]
type = Targetlifeadd
trigger1 = AnimElem = 2
value = -1
kill = 0
id = 300
[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 8
pos = 15, 0
id = 300
[State 810, Bind 1]
type = Targetlifeadd
trigger1 = AnimElem = 8
value = ceil(11*fvar(11)*fvar(10)*Const(data.attack)*-0.01)
id = 300

[State 810, Pos 15]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 810, Pos 15]
type = offset
trigger1 = gametime%2=0
trigger1 = AnimElem=8,>=0&&AnimElem=8,<14
x = 1
y = 1

[State 1220, 1]
type = explod
trigger1 = AnimElem = 8
anim = 11001
postype = p2
pos = 0,0
sprpriority = -1
[State 810, Pos 15]
type = EnvShake
trigger1 = AnimElem = 8
time = 16
freq = 80
ampl = -4
phase = 0
[State 810, Pos 15]
type = velset
trigger1 = AnimElem = 12
x = -2
y = -8
[State 810, Pos 15]
type = veladd
trigger1 = AnimElemtime(12) > 0
y = 0.75

[State 810, Pos 15]
type = nothitby
trigger1 = 1
value = SCA,AA,AT,AP
time = 1

[State 810, State End]
type = ChangeState
trigger1 = AnimElemtime(12) > 0
trigger1 = pos Y >= 0
trigger1 = vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 302]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 820, 1]
type = posset
Trigger1 = time = 0
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 302

[State 821, 4] ;Hit ground
type = changeState
trigger1 = animtime = 0
value = 303

;---------------------------------------------------------------------------
; �_�E��
[Statedef 303]
type    = L
movetype= H
physics = N
juggle  = 1
ctrl = 0
poweradd = 0
sprpriority = 0

[State 200, 1]
type = changeanim
triggerall = 1
trigger1 = SelfAnimExist(5101)
value = 5101

[State 200, 1]
type = changeanim
triggerall = 1
trigger1 = anim != 5101
value = 5100

[State 200, 1]
type = posfreeze
trigger1 = 1
time = 1
[State 200, 1]
type = posset
trigger1 = 1
y = 0
[State 200, 1]
type = velset
trigger1 = 1
y = 13
x = -6
[State 810, Pos 15]
type = offset
trigger1 = gametime%2=0
trigger1 = time < 16
x = 2

[State 200, 7]
type = changeState
trigger1 = time = 20
value = 88001

;---------------------------------------------------------------------------
;K����
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 300
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
getpower = ceil(8*fvar(12))
givepower = ceil(1*fvar(12))
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 311
p2stateno = 312
guard.dist = 0
fall = 1
id = 300

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 207

;---------------------------------------------------------------------------
;K����2
[Statedef 311]
type    = A
movetype= A
physics = N
anim = 311
poweradd = 0
sprpriority = 2

[State 3000, 1]
type = Width
trigger1 = time = 0
value = 0,30

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 0
[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 5
value = 4, 1
[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 9
value = 6, 0

[State 1220, 1]
type = explod
trigger1 = AnimElem = 2
anim = 10053
pos = 50,-20
sprpriority = 3
[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 20, 2

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 3
pos = 54, 0
id = 300
[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 5
pos = 54, -30
id = 300
[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 6
pos = -65, -99
id = 300
[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 7
pos = -85, -79
id = 300

[State 810, Bind 1]
type = Targetlifeadd
trigger1 = AnimElem = 2
value = -1
kill = 0
id = 300
[State 810, Bind 1]
type = Targetlifeadd
trigger1 = AnimElem = 6
value = ceil(10*fvar(11)*fvar(10)*Const(data.attack)*-0.01)
id = 300

[State 810, Pos 15]
type = nothitby
trigger1 = 1
value = SCA,AA,AT,AP
time = 1

[State 810, State End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 312]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = playerpush
Trigger1 = 1
value = 0

[State 820, 1]
type = posset
Trigger1 = time = 1
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 312

[State 820, 2]
type = turn
Trigger1 = animelem = 6

[State 820, 2]
type = velset
Trigger1 = animelem = 6
x = -3.5
y = -8

[State 820, 2]
type = veladd
Trigger1 = animelemtime(7) > 0
y = 0.75

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground













