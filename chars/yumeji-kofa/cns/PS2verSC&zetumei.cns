;------------------------------------------------------------------------------------------------------------------
;神夢想一刀流奥義　御神薙
;------------------------------------------------------------------------------------------------------------------
;神夢想一刀流奥義　御神薙・発動
[Statedef 4550]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -2000
ctrl = 0
velset = 0,0
anim = 4550
sprpriority = 2


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 30
movetime = 30
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17100
pos = 4,-46
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17110
pos = 4,-46
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

;---------------------------------------
[State -2, 4];ボイス
type = PlaySnd
trigger1 = Time = 0
value = s3000,0
channel = 5
;---------------------------------------


[State 230, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 800,6

[State 210, 5]
type = ChangeState
trigger1 = Time = 25
value = 4551
;-------------------------------------------------  剣光
[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 2
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 1410
id=1410
pos = 10,10
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =8

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 3
id = 1410
;-------------------------------------------------  剣光
[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 3
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 1411
id=1411
pos = 38,-2
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =8



;--------------------------------------------------------------------
;神夢想一刀流奥義　御神薙・突進
[Statedef 4551]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 4551
sprpriority = 2



[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[State -2,ダッシュＳＥ]
type = PlaySnd
trigger1 = (GameTime%15) =1
value = s6,0
channel = 2

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = Time = 15
helpertype = normal
name = "en_efe"
ID = 4050
anim = 4050
pos = 25,0
sprpriority = 3
postype = p1
Pausemovetime=var(4)
supermovetime = 9999
removetime =18
bindtime = 1
keyctrl = 0
ownpal = 1

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 1411



[State -2, エフェクト1]
type = Explod
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 4650
id=4650
pos = 27,-3
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8
;----------------------------------- 攻撃判定発生
[State 3201, 3]
type = HitDef
trigger1 = Time = 0
attr = S, HT
damage   = 200,20
hitflag   = MA
guardflag = M
animtype = Hard
priority = 8
pausetime = 0,22
sparkno = S30002
guard.sparkno = S30040
sparkxy = -10,-50
hitsound   = s9999
guardsound = s66,0
ground.type = High
ground.velocity = -3.0
air.velocity = -2.5,-5.0
numhits = 0
kill=0
p1stateno = 4700
p2stateno = 4730
guard.dist = 260
id=4500
envshake.time = 12
envshake.ampl = 6; or 7

;----------------------------------- 
;ガード分岐
[State 830, 4]
type = ChangeState
trigger1 = MoveGuarded && NumTarget
trigger1 = target,GetHitVar(chainid) = 4500
value = 4553
;---------------------------------
[State -2, kesu]
type = posadd
trigger1 = Time = 0
x = 15

[State 100 , 1]
type = VelSet
trigger1 = Time >= 1
x = 4.6

[State 210, 5]
type = ChangeState
trigger1 = Time = 45
value = 4552
;---------------------------------------------------------------------------
;失敗
[Statedef 4552]
type = S
physics = N
ctrl = 0
anim = 101+var(6)

[State 330, 1]
type = BGPalFX
trigger1 = 1
time = 1
add = -80,-80,-80
ignorehitpause = 1
invertall = var(50)

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 4650

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6,1
channel = 2

[State 2221, 2]
type = VelAdd
trigger1 = Time > 0
y = 0

[State 2103, 2]
type = PosSet
trigger1 = Time >= 0
y = 0

[State 101, 1]
type = VelSet
trigger1 = time = 1
x = 1.5

[State 101,10]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;御神薙・失敗
[Statedef 4553]
type    = A
;movetype= A
physics = S
;juggle  = 0
;poweradd= 0
ctrl = 0
velset = 0,0
anim = 101;43
sprpriority = 2

[State 210, 1]
type = stopSnd
trigger1 = Time = 0
channel = 2

[State 4001, 3]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 2
under = 1

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 4650

[State 335, 1]
type = VelSet
trigger1 = time = 1
x = -5.0
y = -4

[State 335, 1]
type = statetypeset
trigger1 = time = 1
physics = A

[State 240, 4]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------------------------------------------------------------
;神夢想一刀流奥義　御神薙・成功
;-----------------------------------------------------------------------------------------------------------------------------------------
[Statedef 4700]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 15,0
anim = 4700
sprpriority = 2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


;------------------------------------------------------
[State -2, ヒット拡散エフェクト（小）]
type = Explod
trigger1 = time = 0
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4200
id=4200
pos = 15,-12
postype = p2
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 0
vel = 2,-2
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------------------------------------


[State 2221, 1]
type = VelSet
trigger1 =p2bodydist X < 2
x = 0
y = 0

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 4650

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State -2]; フラッシュOFF
Type = Varset
trigger1 = Time = 0
V = 36
Value = 0

;[State -2]; フラッシュＯＮ
;Type = Varset
;trigger1 = command = "pow"
;V = 36
;Value = 1
;-------------------------------------- 往復する夢路
[State -2, エフェクト]
type = Explod
trigger1 = Time = 10
trigger2 = Time = 20
trigger3 = Time = 30
trigger4 = Time = 40
;Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 4710+var(36)
id=4710
pos = 40,0
postype = p2
sprpriority = 5
bindtime = 1
removetime =5
ownpal = 0
vel = 10,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =

[State -2, エフェクト]
type = Explod
trigger1 = Time = 15
trigger2 = Time = 25
trigger3 = Time = 35
trigger4 = Time = 45
;Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 4715+var(36)
id=4715
pos = -40,0
postype = p2
sprpriority = -2
bindtime = 1
removetime =5
ownpal = 0
vel = -10,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =

[State -2,ＳＥ]
type = hitadd
trigger1 = Time = 10
trigger2 = Time = 15
trigger3 = Time = 20
trigger4 = Time = 25
trigger5 = Time = 30
trigger6 = Time = 35
trigger7 = Time = 40
trigger8 = Time = 45
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 10
trigger2 = Time = 15
trigger3 = Time = 20
trigger4 = Time = 25
trigger5 = Time = 30
trigger6 = Time = 35
trigger7 = Time = 40
trigger8 = Time = 45
time = 12
ampl = 6

[State -2,ＳＥ]
type = PlaySnd
trigger1 = (GameTime%5) =1
value = s10,0
channel = 2
;---------------------------------
[State 210, 5]
type = ChangeState
trigger1 = time = 50
value = 4701
;-----------------------------------------------------------------------------------------------------------------------------------------
;御神薙・ダッシュ
;-----------------------------------------------------------------------------------------------------------------------------------------
[Statedef 4701]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 20,0
anim = 4710;100
sprpriority = 2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[State 2103, 2]
type = Posadd
trigger1 = Time = 0
x = 40

[State 210, 5]
type = ChangeState
trigger1 = time = 10
value = 4720

[State 640, 3]
type =Screenbound
trigger1 = var(36) = 0
value = 1
movecamera = 0,0
;-----------------------------------------------------------------------------------------------------------------------------------------
;御神薙・フィニッシュ
;-----------------------------------------------------------------------------------------------------------------------------------------
[Statedef 4720]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 4720
sprpriority = 2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1
;---------------------------------------
[State -2, 4];ボイス
type = PlaySnd
trigger1 = Time = 0
value = s3000,1
channel = 5
;---------------------------------------
[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1
;---------------------------------------
[State -2, 4]; BGM
type = PlaySnd
trigger1 = Time = 0
value = s100,12
;---------------------------------------
[State 230, SE]
type = PlaySnd
trigger1 = AnimElem = 10
value = 100,5

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 4721

[State 640, 3]
type =Screenbound
trigger1 = var(36) = 0
value = 1
movecamera = 0,0
;-----------------------------------------------------------------------------------------------------------------------------------------
;御神薙・フィニッシュ
;-----------------------------------------------------------------------------------------------------------------------------------------
[Statedef 4721]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 4721
sprpriority = 2

[State 210, 5]
type = Changeanim
trigger1 = Time = 0
trigger1 = var(36) = 0
value = 1

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1
;---------------------------------------
[State -2, 4]; se
type = PlaySnd
trigger1 = Time = 0
value = 0,4
;---------------------------------------
[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 100, 14
channel = 7
;---------------------------------------
[State 801, Damage];LifeAdd
type = TargetLifeAdd
trigger1 = Time = 0
value = -250
absolute = 1
;------------------------------ 剣気計算ON/OFF
[State -2,];ON
type = Varset
trigger1 = time = 0
v = 41
value = 1

[State -2,];OFF
type = Varset
trigger1 = time = 1
v = 41
value = 0
;------------------------------ 剣気計算ON/OFF
;-------------------------------------------------- 演出ヘルパー
[State 2100, ヒット]
type = Helper
trigger1 = time = 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "hit_chi SP"
stateno = 13056
ID = 13056
pos =0,-70
postype = p2
Pausemovetime=var(4)
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------------- 演出ヘルパー
[State 2100, 2]; エフェクト
type = Explod
trigger1 = p2stateno !=4731
trigger1 = Time >= 50
Persistent = 0
helpertype = normal
name = "d_efe"
ID = 4055
anim = 4055
pos = 0,0
sprpriority = 5
postype = p2
;pausemovetime = 9999
supermovetime = 9999
removetime =30
bindtime = 1
keyctrl = 0
ownpal = 1
;---------------------------------------
[State 210, 1]
type = PlaySnd
trigger1 = p2stateno !=4731
trigger1 = Time >= 50
Persistent = 0
value = 100,2
;---------------------------------------
[State 210, 5]
type = ChangeState
trigger1 = p2stateno !=4731
trigger1 = Time >= 50
trigger2 = Time = 200
value = 0
ctrl = 1

[State 640, 3]
type =Screenbound
trigger1 = var(36) = 0
value = 1
movecamera = 0,0
;-------------------------------------------------- 演出ヘルパー
[State 2100, ヒット]
type = Helper
trigger1 = time = 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "Pause"
stateno = 4745
ID = 4745
pos =0,0
postype = p1
Pausemovetime=var(4)
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------------- 演出ヘルパー
;-------------------------------------------------------------------
;スロー演出
[Statedef 4745]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1
;------------------------------------------------------
[State -2, ヒット拡散エフェクト]
type = Explod
trigger1 = time <= 25
trigger1 = (gametime%2) = 1
IgnoreHitPause = 1
;removeongethit = 1
anim = 30002
id=4035
pos = 0,-40
random = 30,50
postype = p2
sprpriority = 4
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------------------------------------
[State 3000, Super A]
type = Pause
triggerall = Parent,var(36) = 0
trigger1 = time >= 50
trigger1 = (GameTime%3) =1
time=1
movetime=1

[State 330, 1]
type = BGPalFX
trigger1 = time <= 90
time = 1
add = -80,-80,-80
ignorehitpause = 1
invertall = Parent,var(50)
Color=255-(Parent,var(36)*255)
;------------------------------------------
[State 10000, 6]
type = DestroySelf
trigger1 = time = 120
;-------------------------------------------------------------------
;一閃斬による墳血エフェクト
[Statedef 4740]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2221, 1]
type = VelSet
trigger1 = Parent,stateno = 4721
trigger1 = Time >= 12
x = 0.0
y = -10

[State 2221, 1]
type = VelSet
trigger1 = Parent,stateno != 4721
trigger1 = Time >= 1
x = -7.2
y = -4.0

[State -2, ヒット拡散エフェクト（中Ａ）]
type = Explod
trigger1 = time = 15
trigger2 = time = 30
IgnoreHitPause = 1
;removeongethit = 1
anim = 4210
id=4210
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = 0,-1.2
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒット拡散エフェクト（大Ａ）]
type = Explod
trigger1 = time = 20
trigger2 = time = 40
IgnoreHitPause = 1
;removeongethit = 1
anim = 4230
id=4230
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = 0.5,-0.8
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒット拡散エフェクト（特Ａ）]
type = Explod
trigger1 = (GameTime%5) =1
IgnoreHitPause = 1
;removeongethit = 1
anim = 4250
id=4250
pos = 0,0
random = 30,30
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = 0,0
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒット拡散エフェクト（特Ｂ）]
type = Explod
trigger1 = time = 25
IgnoreHitPause = 1
;removeongethit = 1
anim = 4260
id=4260
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = 0,0
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State 10000, 6]
type = DestroySelf
trigger1 = time = 50
;-------------------------------------------------------------------

;-------------------------------------------------------
;やられ側
[Statedef 4730]
type    = S
movetype = H
physics = N
sprpriority = 2

[State 2103, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2103, 2]
type = velSet
trigger1 = Time = 0
x = 0
y = 0

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 827, ]
type = ChangeAnim2
trigger1 = Time = 0
value = 4560



[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = p2stateno =4721
trigger2 = life = 0
value = 4731
ctrl = 0
;-------------------------------------------------------
;やられ側・ふっとび
[Statedef 4731]
type = A
movetype = H
physics = N
sprpriority = 3
anim = 5070

;-------------------------------------- 画面演出
[State 4001, 3]
type = EnvColor
trigger1 = time = 0
trigger2 = time = 2
trigger3 = time = 4
trigger4 = time = 6
value = 120,0,0
time = 1
under = 1

[State 4001, 3]
type = EnvColor
trigger1 = time = 1
trigger2 = time = 3
trigger3 = time = 5
trigger4 = time = 7
;value = 120,0,0
time = 1
under = 1

[State 191, 2] ;
type = AssertSpecial
trigger1 = time=[0,8]
flag = noBG
;-------------------------------------- 画面演出

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 827, ]
type = ChangeAnim
triggerall =AnimExist(5051) = 1
trigger1 = Time = 0
value = 5051

[State 827, ];（３９６専用）
type = ChangeAnim
triggerall = p1name = "Sankuro Yorozu"&& AuthorName = "taruse"
trigger1 = var(6) = 10000
trigger1 = Time = [0,5]
value = 15051

[State 827, ]
type = ChangeAnim
triggerall =AnimExist(5061) = 1
triggerall =Anim = 5051
trigger1 = Time = 30
value = 5061

[State 827, ];（３９６専用）
type = ChangeAnim
triggerall = p1name = "Sankuro Yorozu"&& AuthorName = "taruse"
trigger1 = var(6) = 10000
trigger1 = Time = 30
value = 15061

[State 100 , 1]
type = posadd
trigger1 = Time = 0
x = 15

[State 100 , 1]
type = posSet
trigger1 = Time = 0
y = -10;50

[State 2221, 1]
type = VelSet
trigger1 = Time = [0,15]
x = 0
y = 0

[State 2221, 1]
type = VelSet
trigger1 = Time = 16
x = -0.5
y = -12.0

[State 2221, 2]
type = VelAdd
trigger1 = Time >= 16
y = .50;35

[State 2221, 2]
type = SelfState
triggerall = Time >= 20
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;-------------------------------------------------------



;------------------------------------------------------------------------------------------------------------------
;絶命奥義
;------------------------------------------------------------------------------------------------------------------
;絶命奥義・発動
[Statedef 27000]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -3000
ctrl = 0
velset = 0,0
anim = 27000
sprpriority = 2




[State 2000, 2]
type = SuperPause
trigger1 = AnimElem = 4
time = 40
;movetime = 20
anim = -1

[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 17000,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 4
anim = 17200
pos = -5,-70
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 4
anim = 17210
pos = -5,-70
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1






[State -2,];OFF
type = Varset
trigger1 = time = 0
v = 48
value = 1



;---------------------------------------
[State -2, 4];ボイス
type = PlaySnd
trigger1 = Time = 10
value = s1000,1
channel = 5

[State -2, 4];SE
type = PlaySnd
trigger1 = Time = 10
value = s4000,3
;---------------------------------------

;--------------------------------------

[State 210, 5]
type = ChangeState
trigger1 = Time = 60
value = 27001
;--------------------------------------------------------------------
;絶命奥義・突進
[Statedef 27001]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 4551
sprpriority = 2

[State 191, 0] 
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow

[State 330, 1]
type = BGPalFX
trigger1 = 1
time = 1
;add = -255,-255,-255
add = -80,-80,-80
ignorehitpause = 1
invertall = var(50)
;----------------------------------- 攻撃判定発生
[State 3201, 3]
type = HitDef
trigger1 = Time = 0
attr = S, HT
damage   = 0,0
hitflag   = MA
guardflag = M
animtype = Hard
priority = 7
pausetime = 0,0
guard.pausetime =6,22
sparkno = s9999;4010
guard.sparkno = S30040;4040
sparkxy = -10,-55
hitsound   = s9999
guardsound = s66,0
ground.type = High
ground.velocity = -3.0
air.velocity = -2.5,-5.0
numhits = 0
kill=0
p1stateno = 27100
p2stateno = 27997
guard.dist = 260
id=4500
;----------------------------------- 攻撃判定発生
[State 2100, ガード]
type = Helper
trigger1 = MoveGuarded && NumTarget
trigger1 = target,GetHitVar(chainid) = 4500
trigger1 = Time = 9999999999999
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "Guarded"
stateno = 4300
ID = 4300
pos =0,-55
postype = p2
Pausemovetime=var(4)
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;----------------------------------- 
;ガード分岐
[State 830, 4]
type = ChangeState
trigger1 = MoveGuarded && NumTarget
trigger1 = target,GetHitVar(chainid) = 4500
value = 105;4553
;---------------------------------
[State 100 , 1]
type = VelSet
trigger1 = Time >= 1
x = 8

[State 210, 5]
type = ChangeState
trigger1 = Time = 20
value = 27002

;---------------------------------------------------------------------------
;失敗
[Statedef 27002]
type = S
physics = N
ctrl = 0
anim = 101+var(6)

;---------------------------------------- 透明度調整
;[State 8100, option]
;type = Varset
;trigger1 = Time = 0
;ignorehitpause = 1
;var(31) = 0

;[State 8100, option]
;type = Varadd
;trigger1 = Time >= 1
;ignorehitpause = 1
;var(31) = 15

;[State 8100, option]
;type = BGPalFX
;trigger1 = Time >= 1
;add = Var(31)+-255,Var(31)+-255,Var(31)+-255
;time = 1
;----------------------------------------

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 4650

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6,1

[State 2221, 2]
type = VelAdd
trigger1 = Time > 0
y = 0

[State 2103, 2]
type = PosSet
trigger1 = Time >= 0
y = 0

[State 101, 1]
type = VelSet
trigger1 = time = 1
x = 1.5

[State 101,10]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------




;-------------------------------------------------------
;やられ側　移動
[Statedef 27997]
type    = A
movetype= H
physics = N
sprpriority = 1
;-------------------------------- 移動補佐
[State 640, 3]
type = Screenbound
trigger1 = Time =[1,18]
value = 0
movecamera = 0,0
[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0
;-------------------------
[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -1
;----------------------------------
[State 335, 1]
type = VelSet
trigger1 = Time = 0
trigger2 = Vel Y > 0 && Pos Y >= 0
trigger3 = p2Stateno != 27100
x = 0
y = 0

垂直移動
[State 2500, 2]
type = VelAdd
triggerall = time >= 18
trigger1 = p2Stateno = 27100
trigger1 = Pos Y <= 0
y = .3

[State 1103, 2]
type = PosSet
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger2 = p2Stateno != 27100
y = 0
;--------------------------------  定位置へ移動
[State 335, 1]
type = VelSet
trigger1 = time >= 18
trigger1 = BackEdgeDist = [116,124]
x = 0

[State 335, 1]
type = VelSet
trigger1 = time >= 18
trigger1 = BackEdgeDist != [116,124]
trigger1 = BackEdgeDist > 120
x = -5

[State 335, 1]
type = VelSet
trigger1 = time >= 18
trigger1 = BackEdgeDist != [116,124]
trigger1 = BackEdgeDist < 120
x = 5
;--------------------------------  定位置へ移動

;---------------------------------- 痙攣
[State 827, ]
type = ChangeAnim2
trigger1 = Time = 0
Persistent = 0
value = 27990

[State 827, ]
type = ChangeAnim2
trigger1 = Time = 0
trigger1 = p1name = "Sankuro Yorozu"&& AuthorName = "taruse"
Persistent = 0
value = 27991
;----------------------------------
[State 827, ]
type = ChangeAnim2
trigger1 = Time = 18
Persistent = 0
value = 27997

[State 827, ]
type = ChangeAnim2
trigger1 = Time = 18
trigger1 = p1name = "Sankuro Yorozu"&& AuthorName = "taruse"
Persistent = 0
value = 28000

[State 827, ]
type = ChangeAnim2
trigger1 = p2Stateno = 27150
trigger1 = p1name != "Sankuro Yorozu"&& AuthorName = "taruse"
Persistent = 0
value = 27998

[State 827, ]
type = ChangeAnim2
trigger1 = p2Stateno = 27150
trigger1 = p1name = "Sankuro Yorozu"&& AuthorName = "taruse"
Persistent = 0
value = 28001
;----------------------------------
[State 240, 4]
type = selfState
trigger1 = p2Stateno != [27000,27999]
value = 5100
;-------------------------------------------------------

;---------------------------------------------------------------------------
;中央誘導
[Statedef 27100]
type    = A
;movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 105
sprpriority = 5
;----------------------------------
[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1
[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0
;----------------------------------------
[State 827, ];アニメの1枚目出し
type = ChangeAnim
trigger1 = time < 18
value = 105
;-------------------------------- 移動補佐
[State 640, 3]
type = Screenbound
trigger1 = time >= 1
value = 0
movecamera = 0,0

[State 801, ]
type = TargetBind
trigger1 = time = [0,18]
Persistent = 0
pos = 2,10
;-------------------------
;硬直
[State 335, 1]
type = VelSet
trigger1 = time =[0,18]
x = 0
y = 0

[State 2103, 2]
type = Posadd
trigger1 = time = 0
Persistent = 0
y = -20

;垂直移動
[State 335, 1]
type = VelSet
trigger1 = time = 18
y = -5.0
;--------------------------------  定位置へ移動
[State 335, 1]
type = VelSet
trigger1 = time >= 18
trigger1 = BackEdgeDist = [46,54]
x = 0

[State 335, 1]
type = VelSet
trigger1 = time >= 18
trigger1 = BackEdgeDist != [46,54]
trigger1 = BackEdgeDist >= 50
x = -8.5

[State 335, 1]
type = VelSet
trigger1 = time >= 18
trigger1 = BackEdgeDist != [46,54]
trigger1 = BackEdgeDist < 50
x = 8.5
;--------------------------------  定位置へ移動

;----------------------------------- 演出
[State 330, 1]
type = BGPalFX
trigger1 = 1
time = 1
add = -255,-255,-255
ignorehitpause = 1
invertall = var(50)

[State -3, BGM]
type = PlaySnd
trigger1 = Time = 0
value = 4000, 0

[State 191, 0] 
type = AssertSpecial
trigger1 = 1
flag = nomusic
;-----------------------------------

;----------------------------------　チェンジ補佐
[State 335, 1]
type = statetypeset
trigger1 = time = 1
physics = A

[State 105, 5]
type = StateTypeSet
trigger1 = Time > 33
trigger1 = Pos Y >= -10
physics = N

[State 2103, 2]
type = PosSet
triggerall = Time > 28
trigger1 = Pos Y >= 0
y = 0

[State 240, 4]
type = ChangeState
triggerall = Time > 28
trigger1 = Pos Y >= 0
value = 27101
;----------------------------------
;着地
[Statedef 27101]
type    = C
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27101
sprpriority = 5

;----------------------------------
[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1
[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0
;----------------------------------------

[State 2103, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 191, 0] 
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State -3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 40, 0
;-------------------------------------------------
[State 2100, 2]; 演出
type = Helper
triggerall = numhelper(28000)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "FINAL"
pos =0,0
postype = p1
stateno = 28000
ID = 28000
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]; 演出
type = Helper
triggerall = numhelper(29002)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "FINAL_BG2"
pos =0,0
postype = p1
stateno = 29002
ID = 29002
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]; 演出
type = Helper
triggerall = numhelper(29000)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "FINAL_BG"
pos =0,0
postype = p1
stateno = 29000
ID = 29000
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------------

;--------------------------------------
[State -2, Ｐ１影]
type = Explod
triggerall = NumExplod(28105)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 28105
id=28105
pos = 0,0
postype = p1
sprpriority = 1
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =

[State -2, Ｐ２影]
type = Explod
triggerall = NumExplod(28106)= 0
trigger1 = Time = 1
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 28105
id=28106
pos = 0,0
postype = p2
sprpriority = 1
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =
;--------------------------------------


[State 240, 4]
type = ChangeState
trigger1 = time = 12
value = 27200-var(44)

;------------------------------------------------------------------------------------------------------------------
;絶命演出 （残虐度１）
;------------------------------------------------------------------------------------------------------------------
;一閃・突進
[Statedef 27150]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13000
sprpriority = 3

;----------------------- 影を調整
[State 8100, option]
type = ModifyExplod
trigger1 = Time = 0
anim = 28105
ID = 28105
sprpriority = -4
vel=0,0
[State 8100, option]
type = ModifyExplod
trigger1 = Time = 1
anim = 28105
ID = 28106
sprpriority = -4
vel=0,0
;-----------------------

[State -2,];
type = Varset
trigger1 = Time = 0
v = 13
value = 1

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

;----------------------------------- 攻撃判定発生
[State 3201, 3]
type = HitDef
trigger1 = Time >= 1
attr = S, HT
damage   = 0,0
;guardflag = MA
animtype = Hard
priority = 8
pausetime = 0,0
sparkno = s9999
guard.sparkno = S30040
sparkxy = -10,-55
hitsound   = s9999
guardsound = s66,0
ground.type = High
ground.velocity = -3.0
air.velocity = -2.5,-5.0
guard.dist = 260
numhits = 0
kill=0
p1stateno = 27160
p2stateno = 27998
;----------------------------------- 攻撃判定発生

;-------------------------------------------------- 演出ヘルパー
[State 2100, ガード]
type = Helper
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "zanzo_ZETUMEI"
stateno = 13002
ID = 13002
pos =0,0
postype = p1
Pausemovetime=9999;var(4)
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------------- 演出ヘルパー

[State 100 , 1]
type = VelSet
trigger1 = Time >= 1
x = 9

[State 210, 5];念のため
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------------------------------------------------------------
;一閃・成功
;-----------------------------------------------------------------------------------------------------------------------------------------
[Statedef 27160]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13000
sprpriority = 2

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1
;---------------------------------------
[State -2, 4];ボイス
type = PlaySnd
trigger1 = Time = 0
value = s3000,1
channel = 5
;---------------------------------------
[State 3000, Super A]
type = Pause
trigger1 = Time = 0
time=1
;--------------------------------------
[State 210, 5]
type = ChangeState
trigger1 = Time = 1
value = 27170

;----------------------------------
[Statedef 27170]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27170
sprpriority = 2

[State -2,];
type = Varset
trigger1 = Time = 14
v = 13
value = 0
;----------------------------------
[State 100 , 1]
type = VelSet
trigger1 = Time >= 1
trigger1 = Time < 25
x = 5

[State 100 , 1]
type = VelSet
trigger1 = Time = 25
x = 0
;----------------------------------
[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1
;----------------------------------------
[State 230, SE]
type = PlaySnd
trigger1 = p2stateno = 5110
Persistent = 0
value = 100,0

[State 191, 4] 
type = EnvShake
trigger1 = p2stateno = 5110
Persistent = 0
time = 20
ampl = 5
freq = 30
phase = 45

[State 2100, 2]; エフェクト
type = Explod
trigger1 = P2stateno = 5110
Persistent = 0
helpertype = normal
name = "d_efe"
ID = 4055
anim = 4055
pos = 0,0
sprpriority = 3
postype = p2
Pausemovetime=0;var(4)
supermovetime = 9999
removetime =30
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------- 剣光
[State -2, エフェクト]
type = Explod
trigger1 = AnimElem = 2
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 13051
id=13051
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
;removetime =
ownpal = 1
vel = 0,0
Pausemovetime=0;var(4)
supermove = 1
;supermovetime =
;-------------------------------------- エフェクト
[State -2, エフェクト]
type = Explod
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 13021
id=13021
pos = 0,-70
postype = p2
sprpriority = 5
bindtime = 1
;removetime =
ownpal = 1
vel = 0,0
Pausemovetime=0;var(4)
supermove = 1
;supermovetime =
;--------------------------------------
[State -2, エフェクト]
type = Explod
trigger1 = Time = 15
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 13020
id=13020
pos = 0,-70
postype = p2
sprpriority = 5
bindtime = 1
;removetime =
ownpal = 1
vel = 0,0
Pausemovetime=0;var(4)
supermove = 1
;supermovetime =
;---------------------------------------
[State -2, 4]; SE
type = PlaySnd
trigger1 = AnimElem = 1
value = s8,1
;---------------------------------------
[State -2, 4]; SE
type = PlaySnd
trigger1 = AnimElem = 11
value = s0,4
;---------------------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

;-------------------------------------------------- 演出ヘルパー
;---------------------------------------
[State -2, 4];
type = PlaySnd
trigger1 = Time = 70
value = s100,14
channel = 7
;---------------------------------------

[State 2100, ヒット]
type = Helper
trigger1 = time = 70
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "hit_chi zetumei"
stateno = 13056
ID = 13056
pos =0,-55
postype = p2
Pausemovetime=var(4)
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------------- 演出ヘルパー

;--------------------------------------- 死亡
[State 801, Damage];LifeAdd
type = TargetLifeAdd
trigger1 = time = 80
Persistent = 0
value =-999999999
;---------------------------------------

[State 191, 2] ;
type = AssertSpecial
trigger1 = 1
flag = nokoslow

[State 6000 , Super A]
type = Pause
triggerall = Time < 70
trigger1 = (GameTime%3) =1
time = 2

;---------------------------------------

[State 210, 5]
type = ChangeState
trigger1 = p2stateno = 5110
value = 0
ctrl = 1
;-------------------------------------------------------------------
;絶命
[Statedef 28000]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 640, 3]
type = Screenbound
trigger1 = 1
value = 0

[State 191, 0] 
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = timerfreeze


[State 230, ボイス]
type = PlaySnd
trigger1 = parent,Stateno != 28101
trigger1 = time = 0
value = 4000,1
channel = 7
loop=1

;[State 230, ボイス]
;type = PlaySnd
;trigger1 = parent,Stateno != 28101
;trigger1 = time = 0
;value = 4000,1
;channel = 8
;loop=1

[State 230, ボイス]
type = stopSnd
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
trigger2 = parent,Stateno = 28101
channel = 7

[State 230, ボイス]
type = stopSnd
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
trigger2 = parent,Stateno = 28101
channel = 8

[State -2, kesu]
type = DestroySelf
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
;-------------------------------------------------------------------

;-------------------------------------------------------------------
;絶命背景（地面）
[Statedef 29002]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

;--------------------------------------
[State -2, BG]
type = Explod
triggerall = NumExplod(29002)= 0
trigger1 = Time = 2
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 29002
id=29002
pos = 0,0
postype = left
sprpriority = -1
bindtime = -1
removetime =-1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =

[State 8100, option]
type = ModifyExplod
trigger1 = parent,Stateno = [27150,27170]
anim = 29002
ID = 29002
sprpriority = -4
vel=0,0
;--------------------------------------

;---------------------------------------- 調整
[State 8100, option]
type = PalFX
trigger1 = Time = 0
;mul = -255,-255,-255
add = -255,-255,-255
time = 1

[State 8100, option]
type = PalFX
trigger1 = Time = 1
mul = 20,60,40
;sinadd = 80,60,45,70
add = 1,1,1
time = 9999
Color=0
;----------------------------------------

[State -2, kesu]
type = removeExplod
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
;trigger2 = parent,Stateno  = 28101
trigger2 = parent,Stateno = 27150
id = 29002

[State -2, kesu]
type = DestroySelf
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
;trigger2 = parent,Stateno  = 28101

;-----------------------------------------
[State 210, 5]
type = ChangeState
trigger1 = parent,Stateno = 27150
value = 29003
;-----------------------------------------

;-------------------------------------------------------------------
;絶命背景 （絶命レベル１）
[Statedef 29003]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1
;--------------------------------------
[State -2, BG]
type = Explod
triggerall = NumExplod(29500)= 0
trigger1 = Time = 2
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 29500
id=29500
pos = 0,0
postype = left
sprpriority = -5
bindtime = -1
removetime =-1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =
;--------------------------------------
;---------------------------------------- 調整
[State 8100, option]
type = PalFX
trigger1 = Time = 0
;mul = -255,-255,-255
add = -255,-255,-255
time = 1

[State 8100, option]
type = PalFX
trigger1 = Time = 1
mul =90,40,150
;sinadd = 80,60,45,70
add = 1,1,1
time = 9999
Color=0
;----------------------------------------
[State -2, kesu]
type = removeExplod
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
;trigger2 = parent,Stateno  = 28101
id = 29500
[State -2, kesu]
type = DestroySelf
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
;trigger2 = parent,Stateno  = 28101
;-------------------------------------------------------------------


;-------------------------------------------------------------------
;絶命背景
[Statedef 29000]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

;--------------------------------------
[State -2, BG]
type = Explod
triggerall = NumExplod(29000)= 0
trigger1 = Time = 2
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 29000
id=29000
pos = 0,0
postype = left
sprpriority = -1
bindtime = -1
removetime =-1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =

[State 8100, option]
type = ModifyExplod
trigger1 = parent,Stateno = [27150,27170]
anim = 29000
ID = 29000
sprpriority = -5
vel=0,0
;--------------------------------------

;---------------------------------------- 調整
[State 8100, option]
type = PalFX
trigger1 = Time = 0
;mul = -255,-255,-255
add = -255,-255,-255
time = 1

[State 8100, option]
type = PalFX
trigger1 = Time = 1
;mul = 40,20,100;紫
;mul = 100,20,40;赤
mul = 20,20,100
sinadd = 80,60,45,70
add = 1,1,1
time = 9999
Color=0
;----------------------------------------

[State 191, 0] 
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = nobardisplay

[State 191, 0] 
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow

;--------------------------------------
[State -2, BG]
type = Explod
triggerall = NumExplod(29001)= 0
trigger1 = p2Stateno = 27999
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 29001
id=29001
pos = 0,0
postype = left
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
supermove = 1
;supermovetime =
;--------------------------------------

[State -2, kesu]
type = removeExplod
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
;trigger2 = parent,Stateno  = 28101
trigger2 = parent,Stateno = 27150
id = 29000

[State -2, kesu]
type = removeExplod
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
trigger2 = parent,Stateno = [27150,27170]
;trigger3 = parent,Stateno  = 28101
trigger3 = parent,Stateno = 27150
id = 29001

[State -2, kesu]
type = DestroySelf
trigger1 = parent,Stateno != [27101,27999]
trigger1 = p2life != 0
;trigger2 = parent,Stateno  = 28101
;-------------------------------------------------------------------



;-------------------------------------------------------
;やられ側　絶命準備
[Statedef 27998]
type    = S
movetype= H
physics = N
sprpriority = 1

[State 100 , 1]
type = velSet
trigger1 = 1
x = 0
y = 0

[State 100 , 1]
type = posSet
trigger1 = Time = 0
y = 0

[State 210, 5]
type = ChangeState
trigger1 = Time = 80
value = 13060;27997
;-------------------------------------------------------

;-------------------------------------------------------
;やられ側　絶命死亡
[Statedef 27999]
type    = L
movetype= H
physics = N
sprpriority = 1

[State 100 , 1]
type = lifeset
trigger1 = 1
value = 0

;[State 230, SE]
;type = PlaySnd
;trigger1 = Time = 0
;value = 11,0

;[State 230, SE]
;type = PlaySnd
;triggerall = Time = 0
;trigger1 = p1name = "Yumeji Kurokouchi"&& AuthorName = "taruse"
;trigger2 = p1name = "Sankuro Yorozu"&& AuthorName = "taruse"
;value = 11,2

[State 4001, 3]
type = EnvColor
trigger1 = time = 0
value = 255,0,0
time = 2

[State 4001, 3]
type = EnvColor
trigger1 = time = 2
value = 0,0,0
time = 2

[State 4001, 3]
type = EnvColor
trigger1 = time = 4
value = 255,0,0
time = 2

[State 100 , 1]
type = velSet
trigger1 = 1
x = 0
y = 0

[State 100 , 1]
type = posSet
trigger1 = Time = 0
y = 0

;[State 827, ]
;type = ChangeAnim2
;trigger1 = Time = 0
;Persistent = 0
;value = 27999

;--------------------------------------
[State 191, 0] 
type = AssertSpecial
trigger1 = 1
flag = invisible


[State xscale]
type = Varset
trigger1 = 1
fvar(1) = Const(size.xscale)

[State yscale]
type = Varset
trigger1 = 1
fvar(2) = Const(size.yscale)


[State -2, BG]; 麗華用
type = Explod
triggerall = name = "Reika Murasame" && authorname = "taruse"
triggerall = NumExplod(5005)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 250
id=5005
pos = 0,0
postype = p1
sprpriority = 2
bindtime = 1
removetime = 538
ownpal = 0
vel = 0,0
Pausemovetime=-1
supermove = 1
;supermovetime =
scale = fvar(1),fvar(2)

[State -2, BG]; ミナ用
type = Explod
triggerall = name = "Mina" && authorname = "PriPri Man"
triggerall = NumExplod(5005)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 5130
id=5005
pos = 0,0
postype = p1
sprpriority = 2
bindtime = 1
removetime = 538
ownpal = 0
vel = 0,0
Pausemovetime=-1
supermove = 1
;supermovetime =
scale = fvar(1),fvar(2)

[State -2, BG]; パピー用
type = Explod
triggerall = name = "Poppy" && authorname = "Kane_taku"
triggerall = NumExplod(5005)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 5030
id=5005
pos = 0,0
postype = p1
sprpriority = 2
bindtime = 1
removetime = 538
ownpal = 0
vel = 0,0
Pausemovetime=-1
supermove = 1
;supermovetime =
scale = fvar(1),fvar(2)

[State -2, BG]; 夢路＆三九六＆パピー（たるせ版）用
type = Explod
triggerall = NumExplod(5005)= 0
triggerall = Time = 0
trigger1 = p1name = "Yumeji Kurokouchi"&& AuthorName = "taruse"
trigger2 = p1name = "Sankuro Yorozu"&& AuthorName = "taruse"
trigger3 = p1name = "Poppy_ZERO"&& AuthorName = "taruse"
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 9990
id=5005
pos = 0,0
postype = p1
sprpriority = 4
bindtime = 1
removetime = 538
ownpal = 0
vel = 0,0
Pausemovetime=-1
supermove = 1
;supermovetime =
scale = fvar(1),fvar(2)

[State -2, BG]; 夢路＆三九六＆パピー（たるせ版）用
type = Explod
triggerall = Time = 0
trigger1 = p1name = "Yumeji Kurokouchi"&& AuthorName = "taruse"
trigger2 = p1name = "Sankuro Yorozu"&& AuthorName = "taruse"
trigger3 = p1name = "Poppy_ZERO"&& AuthorName = "taruse"
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 9991
id=9991
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1
removetime = 538
ownpal = 0
vel = 0,0
Pausemovetime=-1
supermove = 1
;supermovetime =
scale = fvar(1),fvar(2)

[State -2, BG]
type = Explod
triggerall = NumExplod(5005)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 5005
id=5005
pos = 0,0
postype = p1
sprpriority = 2
bindtime = 1
removetime = 538
ownpal = 0
vel = 0,0
Pausemovetime=-1
supermove = 1
;supermovetime =
scale = fvar(1),fvar(2)
;--------------------------------------

;---------------------- 死んでない、トレーニング等の場合の処置
[State -2, kesu]
type = removeExplod
trigger1 = Alive != 0
trigger1 = Time >= 5
id = 5005

[State 210, 5]
type = selfState
trigger1 = Alive = 1
trigger1 = Time = 20
value = 5150
;----------------------
[State 210, 5]
type = selfState
trigger1 = Alive = 0
trigger1 = Time = 10
value = 5150


;---------------------------------------------------------------------------
; 夢路、絶命勝利A
; 「私の鼓動は止められない」
[Statedef 28100]
type = S
ctrl = 0
anim = 28100
velset = 0,0
sprpriority = 3

[State -2]; 処理
Type = Varadd
trigger1 = var(9) != 2
trigger1 = time= 0
V = 9
Value = 1

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1000,6

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 1000,7

[State 5151, 0]
type = AssertSpecial
trigger1 = Time = [0,500]
flag = RoundNotOver

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State -2, BG]
type = Explod
triggerall = NumExplod(29013)= 1
triggerall = NumExplod(28110)= 0
trigger1 = Time = 120
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 28110
id=28110
pos = 0,0
postype = p1
sprpriority = 4
bindtime = 1
removetime = -1
ownpal = 0
vel = 0,0
Pausemovetime=-1
supermove = 1
;supermovetime =

[State 210, 5];勝ちデモへ移行
type = ChangeState
triggerall = NumExplod(29011)= 0
trigger1 = Time = 320
value = 189
;-------------------------------------------------------------------
; 絶命 による墳血エフェクト （返り血用）
[Statedef 28150]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 100 , 1]
type = Velset
trigger1 = AnimElem = 1
y = -4.0

[State 100 , 1]
type = Veladd
trigger1 = Time >= 1
x = 1.2

[State 100 , 1]
type = Veladd
trigger1 = Time >= 10
y = 0.58

[State -2, 4]; SE
type = PlaySnd
trigger1 = time = 0
value = s100,14
channel = 9

[State -2, ヒット拡散エフェクト（中Ａ）]
type = Explod
trigger1 = time = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4210
id=4210
pos = 0,0
postype = p1
sprpriority = 5
bindtime = -1
ontop = 1
ownpal = 1
vel = 0,-1.2
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒット拡散エフェクト（特Ａ）]
type = Explod
trigger1 = (GameTime%5) =1
IgnoreHitPause = 1
;removeongethit = 1
anim = 4250
id=4250
pos = 0,0
random = 30,30
postype = p1
sprpriority = 5
bindtime = -1
ontop = 1
ownpal = 1
vel = 0,0
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒット拡散エフェクト（特Ｂ）]
type = Explod
trigger1 = (GameTime%10) =1
IgnoreHitPause = 1
;removeongethit = 1
anim = 4260
id=4260
pos = 0,0
postype = p1
sprpriority = 5
bindtime = -1
ontop = 1
ownpal = 1
vel = 0,0
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

;----------------------------------------
[State -2, kesu]
type = removeExplod
trigger1 = numhelper(28000)= 0
trigger2 = Parent,stateno = 189
trigger3 = NumExplod(15000)= 1
trigger4 = time = 50
;----------------------------------------
[State 10000, 6]
type = DestroySelf
trigger1 = numhelper(28000)= 0
trigger2 = Parent,stateno = 189
trigger3 = NumExplod(15000)= 1
trigger4 = time = 50
;-------------------------------------------------------------------


;---------------------------------------------------------------------------
; 夢路、絶命勝利B  金返せ糞芋屋ムービーを参考にしてます。
[Statedef 28101]
type = S
ctrl = 0
anim = 5
velset = 0,0
sprpriority = 3

[State -2]; 処理
Type = Varadd
trigger1 = var(9) != 2
trigger1 = time= 0
V = 9
Value = 1

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(31) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 0
ignorehitpause = 1
var(31) = 10

[State 8100, option]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = Time < 25
add = Var(31)+-255,Var(31)+-255,Var(31)+-255
time = 1
;----------------------------------------

[State 1200, Muteki]
type = turn
trigger1 = Time = 0
;trigger2 = Time = 20

[State 827, ]
type = ChangeAnim2
trigger1 = Time = 20
Persistent = 0
value = 0

[State 5151, 0]
type = AssertSpecial
trigger1 = Time = [0,500]
flag = RoundNotOver

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State -2, エフェクト2]
type = Explod
trigger1 = Time = 100
;trigger1 = TeamSide = 2
trigger1 = facing = 1
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 189
id=189
pos = 230,50
postype = left
sprpriority = 1
ontop=1
bindtime = -1
removetime =180
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

[State -2, エフェクト2]
type = Explod
trigger1 = Time = 100
;trigger1 = TeamSide = 1
trigger1 = facing = -1
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 189
id=189
pos = 50,50
postype = left
sprpriority = 1
ontop=1
bindtime = -1
removetime =180
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8
;--------------------------------------勝ち「全ては・・・我旺様のために・・・」（襟整え）
[State 180, 1]
type = Changeanim
triggerall = Time = 150
trigger1 = life > 500
value = 182

[State 230, 1]
type = PlaySnd
triggerall = Anim = 182
triggerall = AnimElem = 4
trigger1 = life > 500
value = 2000,13;1000,3

;[State 230, 1]
;type = PlaySnd
;triggerall = Anim = 182
;triggerall = AnimElem = 4
;trigger1 = life > 500
;value = 1000,3
;--------------------------------------勝ち「はっ！！」
[State 180, 1]
type = Changeanim
triggerall = Time = 150
trigger1 = life <= 500
value = 187

[State 230, SE]
type = PlaySnd
triggerall = Anim = 187
triggerall = AnimElem = 10
trigger1 = life <= 500
value = 100,5

[State 230, SE]
type = PlaySnd
triggerall = Anim = 187
triggerall = AnimElem = 21
trigger1 = life <= 500
value = 0,4

[State 230, 1]
type = PlaySnd
triggerall = Anim = 187
triggerall = AnimElem = 1
trigger1 = life <= 500
value = 200,0
;--------------------------------------

[State 210, 5];勝ちデモへ移行
type = ChangeState
trigger1 = Time = 320
value = 189
;-------------------------------------------------------------------
; 絶命 による墳血エフェクト
[Statedef 13057]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State -2,]; 絶命奥義
type = Varset
trigger1 = Parent,Var(59)= 1
v = 59
value = 1

[State -2, 4]; SE
type = PlaySnd
trigger1 = time = 10
value = s4000,2
channel = 9
;-----------------------------  特殊
[State -2, 4]; SE
type = PlaySnd
triggerall = var(59) = 1
trigger1 = time = 400
trigger2 = time = 440
value =  s100,0

[State 191, 4] 
type = EnvShake
triggerall = var(59) = 1
trigger1 = time = 400
trigger2 = time = 440
time = 30
ampl = 5
freq = 60
phase = 45
;-----------------------------  特殊

[State -2, ヒット拡散エフェクト（中Ａ）]
type = Explod
trigger1 = var(59) = 0
trigger1 = (GameTime%30) =1
trigger2 = var(59) = 1
trigger2 = (GameTime%30) =1
trigger2 = time <= 60
trigger3 = var(59) = 1
trigger3 = time = 310
IgnoreHitPause = 1
;removeongethit = 1
anim = 4210
id=4210
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = 0,-1.2
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒット拡散エフェクト（大Ａ）]
type = Explod
trigger1 = var(59) = 0
trigger1 = (GameTime%40) =1
trigger2 = var(59) = 1
trigger2 = (GameTime%40) =1
trigger2 = time <= 60
trigger3 = var(59) = 1
trigger3 = time = 310
IgnoreHitPause = 1
;removeongethit = 1
anim = 4230
id=4230
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = 0.5,-0.8
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒット拡散エフェクト（特Ａ）]
type = Explod
trigger1 = var(59) = 0
trigger1 = (GameTime%5) =1
trigger2 = var(59) = 1
trigger2 = (GameTime%5) =1
trigger2 = time <= 60
trigger3 = var(59) = 1
trigger3 = time = 310
IgnoreHitPause = 1
;removeongethit = 1
anim = 4250
id=4250
pos = 0,0
random = 30,30
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = 0,0
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒット拡散エフェクト（特Ｂ）]
type = Explod
trigger1 = var(59) = 0
trigger1 = (GameTime%25) =1
trigger2 = var(59) = 1
trigger2 = (GameTime%25) =1
trigger2 = time <= 60
trigger3 = var(59) = 1
trigger3 = time = 310
IgnoreHitPause = 1
;removeongethit = 1
anim = 4260
id=4260
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = 0,0
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

;-------------------------------------------------- 演出ヘルパー
[State 230, 1]
type = PlaySnd
trigger1 = Time = 310
value = 9,1

[State 2100, ヒット]
type = Helper
trigger1 = Time = 310
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "kaerichi"
stateno = 28150
ID = 28150
pos =0,0
postype = p2
Pausemovetime=var(4)
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------------- 演出ヘルパー

;----------------------------------------
[State -2, kesu]
type = removeExplod
trigger1 = numhelper(28000)= 0
trigger2 = Parent,stateno = 189
trigger3 = NumExplod(15000)= 1
trigger4 = time = 538
;----------------------------------------

[State 10000, 6]
type = DestroySelf
trigger1 = numhelper(28000)= 0
trigger2 = Parent,stateno = 189
trigger3 = NumExplod(15000)= 1
trigger4 = time = 538
;trigger5 = Parent,var(59) = 1
;trigger5 = time = 310
;-------------------------------------------------------------------





;------------------------------------------------------------------------------------------------------------------
;絶命演出　夢想連歌（残虐度３）
;------------------------------------------------------------------------------------------------------------------
;覇王丸　トランスフォーム (開始)
[Statedef 27200]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8020
sprpriority = 3


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
anim = 20320
pos = 0,10
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime = 44
bindtime = 1
keyctrl = 0
ownpal = 1
scale = 1.2,1.2


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1
facing = -1

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9710
id=9710
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27201
ctrl = 0

;----------------------------------------
;覇王丸　断空裂斬
[Statedef 27201]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27201
sprpriority = 3

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 100 , 1]
type = velSet
trigger1 = AnimElem = 4
x = 3.5
y = 0

;-------------------------------------------------  剣光
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 10
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 3250
id=3250
pos = 20,0
postype = p1
sprpriority = 5
bindtime = 1
removetime =28
ownpal = 1
vel = 1,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;-------------------------------------------------  剣光

;------------------------ 声とＳＥ
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 100,3

[State 230, voice]
type = PlaySnd
trigger1 = Time = 0
value = 200,0
;----------------------

;--------------------------------------- HIT 効果
[State -2, 4];ＳＥ
type = PlaySnd
trigger1 = AnimElem = 10
value = s10,var(2)
channel = 5

[State -2, ヒット拡散エフェクト]
type = Explod
trigger1 = AnimElem = 10
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4250
id=4250
pos = 0,-50
postype = p2
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒットエフェクト]
type = Explod
trigger1 = AnimElem = 10
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4067
id=4067
pos = 0,-50
postype = p2
sprpriority = 8
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;---------------------------------------

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27202
ctrl = 0
;------------------------------------------------
;覇王丸　トランスフォーム (終了)
[Statedef 27202]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8025
sprpriority = 3


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
anim = 20320
pos = 0,10
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime = 44
bindtime = 1
keyctrl = 0
ownpal = 1
scale = 1.2,1.2


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1
facing = -1

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9610
id=9610
pos = 0,0
postype = p1
sprpriority = 5
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8


;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27210
ctrl = 0

;------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------
;徳川慶寅　トランスフォーム (開始)
[Statedef 27210]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8060
sprpriority = 3




[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9710
id=9710
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27211
ctrl = 0

;----------------------------------------
;徳川慶寅　崩し斬り
[Statedef 27211]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27211
sprpriority = 3

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

;-------------------------------------------------  剣光
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 8
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 27212
id=27212
pos = 0,0
postype = p1
sprpriority = 5
bindtime = -1
removetime =16
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;-------------------------------------------------  剣光

;------------------------ 声とＳＥ
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 0,2

[State 230, voice]
type = PlaySnd
trigger1 = Time = 0
value = 200,3

[State 210, 1];刀収納
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 16
value = 0,4


;----------------------

;--------------------------------------- HIT 効果
[State -2, 4];ＳＥ
type = PlaySnd
trigger1 = AnimElem = 9
value = s8,var(2)
channel = 5

[State -2, ヒット拡散エフェクト]
type = Explod
trigger1 = AnimElem = 9
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4230
id=4230
pos = 0,-55
postype = p2
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime= var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒットエフェクト]
type = Explod
trigger1 = AnimElem = 9
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4068
id=4068
pos = 0,-50
postype = p2
sprpriority = 8
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;---------------------------------------

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27212
ctrl = 0
;------------------------------------------------
;徳川慶寅　トランスフォーム (終了)
[Statedef 27212]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8065
sprpriority = 3


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
anim = 20320
pos = 0,10
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime = 44
bindtime = 1
keyctrl = 0
ownpal = 1
scale = 1.2,1.2


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1
facing = -1

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1


;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9610
id=9610
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27260
ctrl = 0

;------------------------------------------------------------------------------------ 追加
;------------------------------------------------------------------------------------
;シャルロット　トランスフォーム (開始)
[Statedef 27260]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8000
sprpriority = 3



[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9710
id=9710
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27261
ctrl = 0

;----------------------------------------
;シャルロット　大斬り
[Statedef 27261]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27261
sprpriority = 3

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

;-------------------------------------------------  剣光
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 2
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 27262
id=27262
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1
removetime =24
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;-------------------------------------------------  剣光

;------------------------ 声とＳＥ
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 100,8

[State 230, voice]
type = PlaySnd
trigger1 = Time = 0
value = 200,2
;----------------------

;--------------------------------------- HIT 効果
[State -2, 4];ＳＥ
type = PlaySnd
trigger1 = AnimElem = 5
value = s8,var(2)
channel = 5

[State -2, ヒット拡散エフェクト]
type = Explod
trigger1 = AnimElem = 5
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4230
id=4230
pos = 0,-55
postype = p2
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime= var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒットエフェクト]
type = Explod
trigger1 = AnimElem = 5
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4065
id=4065
pos = 0,-55
postype = p2
sprpriority = 8
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;---------------------------------------

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27262
ctrl = 0
;------------------------------------------------
;シャルロット　トランスフォーム (終了)
[Statedef 27262]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8005
sprpriority = 3


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
anim = 20320
pos = 0,10
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime = 44
bindtime = 1
keyctrl = 0
ownpal = 1
scale = 1.2,1.2


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1
facing = -1

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1


;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9610
id=9610
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27220
ctrl = 0


;------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------
;ナコルル　トランスフォーム (開始)
[Statedef 27220]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8080
sprpriority = 3



[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9710
id=9710
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8

[State 2100, ガード]
type = Helper
trigger1 = AnimElem = 4
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "annu"
stateno = 27226
ID = 27226
pos =0,-20
postype = p1
Pausemovetime=var(4)
supermovetime = 9999
bindtime = -1
keyctrl = 0
ownpal = 1
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27221
ctrl = 0

;----------------------------------------
;ナコルル　アンヌムツベ
[Statedef 27221]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27221
sprpriority = 3

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

;-------------------------------------------------  剣光
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 4
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 3850
id=27228
pos = 0,0
postype = p1
sprpriority = 5
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;-------------------------------------------------  剣光

;------------------------ 声とＳＥ
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 0,1

[State 230, voice]
type = PlaySnd
trigger1 = Time = 0
value = 200,2
;----------------------

;--------------------------------------- HIT 効果
[State -2, 4];ＳＥ
type = PlaySnd
trigger1 = Time = 10
value = s10,var(2)
channel = 5

[State -2, ヒット拡散エフェクト]
type = Explod
trigger1 = Time = 10
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4260
id=4260
pos = 0,-20
postype = p2
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒットエフェクト]
type = Explod
trigger1 = time = 10
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4060
id=4060
pos = 0,-20
postype = p2
sprpriority = 8
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;---------------------------------------

[State 100 , 1]
type = VelSet
trigger1 = AnimElem = 4 > 0
x = 14

[State 210, 5]
type = ChangeState
trigger1 = Time = 20
value = 27225
ctrl = 0

;----------------------------------------
;ナコルル　アンヌムツベ
[Statedef 27225]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3810
sprpriority = 3

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 100 , 1]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State -2, kesu]
type = removeExplod
trigger1 = time = 0
id = 27228

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27222
ctrl = 0
;------------------------------------------------
;ナコルル　トランスフォーム (終了)
[Statedef 27222]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8085
sprpriority = 3


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
anim = 20320
pos = 0,10
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime = 44
bindtime = 1
keyctrl = 0
ownpal = 1
scale = 1.2,1.2


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1
facing = -1

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1


;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9610
id=9610
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27230
ctrl = 0

;-------------------------------------------------------------------
;アンヌムツベ・エフェクト
[Statedef 27226]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2501]
type = bindtoroot
trigger1 = 1
pos = 0,-20
time = -1

[State -2, 拡散エフェクトA]
type = Explod
trigger1 = time <= 1
trigger1 = (GameTime%4) =1
IgnoreHitPause = 1
;removeongethit = 1
anim = 3855
id=3855
removetime =8
pos = 0,0
random = 10,30
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = -1,0
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8

[State -2, 拡散エフェクトB]
type = Explod
trigger1 = time >= 2
trigger1 = (GameTime%4) =1
IgnoreHitPause = 1
;removeongethit = 1
anim = 3860
id=3860
removetime =8
pos = 0,0
random = 10,30
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = -1,0
Pausemovetime=Parent,var(4)
;supermove = 1
;supermovetime =8


[State 10000, 6]
type = DestroySelf
Trigger1 = Parent,stateno = 27225
;-------------------------------------------------------------------


;------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------
;柳生十兵衛　トランスフォーム (開始)
[Statedef 27230]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8040
sprpriority = 3



[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 1200, Muteki]
type = turn
trigger1 = Time = 0

;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9710
id=9710
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27231
ctrl = 0

;----------------------------------------
;柳生十兵衛　大斬り
[Statedef 27231]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27231
sprpriority = 3

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

;-------------------------------------------------  剣光
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 4
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 27232
id=27232
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1
removetime =16
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;-------------------------------------------------  剣光

;------------------------ 声とＳＥ
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 0,2

[State 230, voice]
type = PlaySnd
trigger1 = Time = 0
value = 200,4
;----------------------

;--------------------------------------- HIT 効果
[State -2, 4];ＳＥ
type = PlaySnd
trigger1 = AnimElem = 5
value = s8,var(2)
channel = 5

[State -2, ヒット拡散エフェクト]
type = Explod
trigger1 = AnimElem = 5
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4230
id=4230
pos = 0,-55
postype = p2
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime= var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒットエフェクト]
type = Explod
trigger1 = AnimElem = 5
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4067
id=4067
pos = 0,-50
postype = p2
sprpriority = 8
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;---------------------------------------

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27232
ctrl = 0
;------------------------------------------------
;柳生十兵衛　トランスフォーム (終了)
[Statedef 27232]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8045
sprpriority = 3


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
anim = 20320
pos = 0,10
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime = 44
bindtime = 1
keyctrl = 0
ownpal = 1
scale = 1.2,1.2


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1
facing = -1

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1


;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9610
id=9610
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27240
ctrl = 0

;------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------
;牙神幻十郎　トランスフォーム (開始)
[Statedef 27240]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8050
sprpriority = 3



[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9710
id=9710
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27241
ctrl = 0

;----------------------------------------
;牙神幻十郎　蝶斬り
[Statedef 27241]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27241
sprpriority = 3

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

;-------------------------------------------------  剣光
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 4
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 27242
id=27242
pos = 0,0
postype = p1
sprpriority = 5
bindtime = -1
removetime =14
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;-------------------------------------------------  剣光

;------------------------ 声とＳＥ
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 0,2

[State 230, voice]
type = PlaySnd
trigger1 = Time = 0
value = 200,2
;----------------------

;--------------------------------------- HIT 効果
[State -2, 4];ＳＥ
type = PlaySnd
trigger1 = AnimElem = 6
value = s8,var(2)
channel = 5

[State -2, ヒット拡散エフェクト]
type = Explod
trigger1 = AnimElem = 6
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4240
id=4240
pos = 0,-45
postype = p2
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime= var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒットエフェクト]
type = Explod
trigger1 = AnimElem = 6
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4068
id=4068
pos = 0,-30
postype = p2
sprpriority = 8
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;---------------------------------------

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27245
ctrl = 0


;----------------------------------------
;牙神幻十郎　 猪斬り
[Statedef 27245]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27245
sprpriority = 3

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0


[State 100 , 1]
type = VelSet
trigger1 = AnimElem = 4 > 0
x = 9.5

;-------------------------------------------------  剣光
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 4
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 27246
id=27246
pos = 0,0
postype = p1
sprpriority = 5
bindtime = -1
removetime =12
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;-------------------------------------------------  剣光

;------------------------ 声とＳＥ
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 0,1

[State 230, voice]
type = PlaySnd
trigger1 = Time = 0
value = 200,5

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 6,1
;----------------------

;--------------------------------------- HIT 効果
[State -2, 4];ＳＥ
type = PlaySnd
trigger1 = AnimElem = 6
value = s10,var(2)
channel = 5

[State -2, ヒット拡散エフェクト]
type = Explod
trigger1 = AnimElem = 6
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4220
id=4220
pos = 0,-50
postype = p2
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime= var(4)
;supermove = 1
;supermovetime =8

[State -2, ヒットエフェクト]
type = Explod
trigger1 = AnimElem = 6
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 4060
id=4060
pos = 0,-50
postype = p2
sprpriority = 8
bindtime = 1
ontop = 1
ownpal = 0
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;---------------------------------------

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27242
ctrl = 0


;------------------------------------------------
;牙神幻十郎　トランスフォーム (終了)
[Statedef 27242]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8055
sprpriority = 3


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
anim = 20320
pos = 0,10
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime = 44
bindtime = 1
keyctrl = 0
ownpal = 1
scale = 1.2,1.2


[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 0,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1
facing = -1

[State 100 , 1]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1


;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9600
id=9600
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27250
ctrl = 0


;------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------
;最終トランスフォーム (開始)
[Statedef 27250]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9999
sprpriority = 3



[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time=1
;------------------------
[State 230, SE]
type = PlaySnd
trigger1 = Time = 0
value = 800,0

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 99
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 9700
id=9700
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;------------------------

[State 110, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 5]
type = Changeanim
trigger1 = Time = 10
value = 5

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 27251
ctrl = 0

;----------------------------------------
;陽炎
[Statedef 27251]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 27251
sprpriority = 3

[State 1200, Muteki]
type = turn
trigger1 = anim = 27251
trigger1 = Time = 0

[State 210, SE]
type = PlaySnd
trigger1 = anim = 27251
trigger1 = AnimElem = 5
value = 100, 11

[State 210, SE]
type = PlaySnd
trigger1 = anim = 27251
trigger1 = AnimElem = 16
value = 0,4
;---------------------------------------
[State -2, 4];ボイス
type = PlaySnd
trigger1 = anim = 27251
trigger1 = AnimElem = 1
value = s3000,0
channel = 5

[State -2, 4];ボイス
type = PlaySnd
trigger1 = Anim = 27251
trigger1 = AnimElem = 13
value = s2000,0
channel = 5
[State -2, 4];ボイス
type = PlaySnd
trigger1 = Anim = 27251
trigger1 = AnimElem = 13
value = s2000,0
channel = 4
;----------------------------  絶命レベル３
[State 210, 5]
type = Changeanim
trigger1 = numhelper(27255)= 1
trigger1 = anim = 27251
trigger1 = time = 100
value = 27252
[State -2, 4];ボイス
type = PlaySnd
trigger1 = Anim = 27252
trigger1 = AnimElem = 13
value = s2000,0
channel = 5
[State -2, 4];ボイス
type = PlaySnd
trigger1 = Anim = 27252
trigger1 = AnimElem = 13
value = s2000,0
channel = 4
[State 230, SE]
type = PlaySnd
trigger1 = anim = 27252
trigger1 = AnimElem = 1
value = 100,10
[State 230, SE]
type = PlaySnd
trigger1 = anim = 27252
trigger1 = AnimElem = 6
value = 100,5
[State 210, SE]
type = PlaySnd
trigger1 = anim = 27252
trigger1 = AnimElem = 16
value = 0,4
;---------------------------------------
[State -2, エフェクト1]
type = Explod
trigger1 = anim = 27251
trigger1 = AnimElem = 5
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 1110
id=1110
pos = 0,0
postype = p1
sprpriority = 4
bindtime = -1
removetime =22;16
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8



[State 6000, Helper]
type = Helper
trigger1 = anim = 27251
triggerall = command != "zetumei2"
trigger1 = AnimElem = 8
postype = p1
pos = 0,0
stateno = 27255
id = 27255
name = "kage_zetumei"
supermove = 0
Pausemovetime=var(4)
ownpal = 1

[State 210, 5]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;陽炎（絶命しない威力）
[Statedef 27257]
movetype = A
velset =  0,0
anim = 1100
sprpriority = 5

[State 200, SE]
type = PlaySnd
trigger1 = Time = 0
value = 100,13

[State 2221, 1]
type = VelSet
trigger1 = Time >= 1
x = 7.0
y = 0

[State 5151, 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1001, 1]
type = NotHitBy 
trigger1 = 1
value = SCA
time = 1

[State 10000,ヒット]
type = ChangeState
trigger1 = MoveHit = 1
value = 27256

[State 2102, 3]
type = HitDef
trigger1 = Time >= 0
attr = A, HA
damage    = 99999999999
animtype = Hard
hitflag   =MA
;guardflag =MA
pausetime = 0,17
sparkno = S30002
guard.sparkno = S30040
hitsound   =s 8,Parent,var(2)
guardsound = s66,0
sparkxy = 0,-50
ground.type = Low
ground.slidetime = 50
ground.hittime  = 50
ground.velocity = -8.5 , -8.5
air.velocity = -4.0,-5.5
air.fall = 1
;fall = 1
air.recover = 0
fall.recover = 0
;yaccel = .32
;envshake.time = 12
;envshake.ampl = 6
;envshake.freq = 50
guard.dist = 260
p2stateno = 27258
id=1100

[State 210, 5]
type = DestroySelf
trigger1 = FrontEdgeDist <= -20
;-------------------------------------------------------------------------------
;陽炎（絶命威力）
[Statedef 27255]
movetype = A
velset =  0,0
anim = 1100
sprpriority = 5

[State 200, SE]
type = PlaySnd
trigger1 = Time = 0
value = 100,13

[State 2221, 1]
type = VelSet
trigger1 = Time >= 1
x = 7.0
y = 0

[State 10000,ヒット]
type = ChangeState
trigger1 = MoveHit = 1
value = 27256

[State 5151, 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1001, 1]
type = NotHitBy 
trigger1 = 1
value = SCA
time = 1

[State 2102, 3]
type = HitDef
trigger1 = Time >= 0
attr = A, HA
damage    = 750
animtype = Hard
hitflag   =MA
;guardflag =MA
pausetime = 0,50
sparkno = -1;S30002
guard.sparkno = -1;S30040
hitsound   =s 8,Parent,var(2)
guardsound = s66,0
sparkxy = 0,-50
ground.type = Low
ground.slidetime = 11
ground.hittime  = 18
ground.velocity = -5.5
air.velocity = -4.0,-5.5
air.fall = 1
fall = 1
air.recover = 0
fall.recover = 0
;yaccel = .32
;envshake.time = 12
;envshake.ampl = 6
;envshake.freq = 50
guard.dist = 260
;p2stateno = 27999
id=1100

[State 210, 5]
type = DestroySelf
;trigger1 = numhelper(28000)= 0
trigger1 = FrontEdgeDist <= -20
;trigger2 = MoveHit = 1
;--------------------------------------------------------------------------------
;ヒット時
[Statedef 27256]
type = A
;movetype = A
physics = N
velset =  0,0
anim = 1100
sprpriority = 5

[State -2,]; 絶命奥義
type = Varset
trigger1 = Parent,Var(59)= 1
v = 59
value = 1

[State 210, 5]
type = Changeanim
trigger1 = PrevStateNo = 27255
value = 9999

[State 4001, 3]
type = EnvColor
trigger1 = time = 0
value = 255,0,0
time = 2

;-------------------------------------------------- 演出ヘルパー
;---------------------------------------
[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 800, 5
channel = 7
;-------------------------------------------------- 演出ヘルパー

[State 2221, 1]
type = VelSet
trigger1 = Time >= 1
x = 7.0
y = 0

[State 5151, 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1001, 1]
type = NotHitBy 
trigger1 = 1
value = SCA
time = 1

;--------------------------------------------
[State -2, エフェクト1]
type = Explod
trigger1 = time = 0
trigger1 = PrevStateNo = 27255
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 27255
id=27255
pos = 80,-45
postype = p1
sprpriority = 5
bindtime = 1
removetime =50
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8

制御
[State 8100, option]
type = ModifyExplod
trigger1 = time >= 35
trigger1 = PrevStateNo = 27255
anim = 27255
id=27255
sprpriority = 5
vel=0,0
scale =1.0 ,2.0 - Time*0.04
;--------------------------------------------


[State 210, 5]
type = DestroySelf
;trigger1 = FrontEdgeDist <= -20
trigger1 = Parent,stateno =0
trigger2 = Parent,movetype = H
;-------------------------------------------------------
;やられ側　死亡
[Statedef 27258]
type    = L
movetype= H
physics = N
sprpriority = 1

[State 100 , 1]
type = lifeset
trigger1 = 1
value = 0

[State 100 , 1]
type = velSet
trigger1 = 1
x = 0
y = 0

[State 100 , 1]
type = posSet
trigger1 = Time = 0
y = 0
;--------------------------------------
[State 191, 0] 
type = AssertSpecial
trigger1 = 1
flag = invisible


[State xscale]
type = Varset
trigger1 = 1
fvar(1) = Const(size.xscale)

[State yscale]
type = Varset
trigger1 = 1
fvar(2) = Const(size.yscale)

[State -2, BG]
type = Explod
trigger1 = p1name = "Sankuro Yorozu"&& AuthorName = "taruse"
triggerall = NumExplod(5030)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 15030
id=5030
pos = 0,0
postype = p1
sprpriority = 2
bindtime = 1
removetime = 100
ownpal = 0
vel = -7.2,-4.0
Pausemovetime=-1
supermove = 1
;supermovetime =
scale = fvar(1),fvar(2)

[State -2, BG]
type = Explod
triggerall = NumExplod(5030)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 5030
id=5030
pos = 0,0
postype = p1
sprpriority = 2
bindtime = 1
removetime = 100
ownpal = 0
vel = -7.2,-4.0
Pausemovetime=-1
supermove = 1
;supermovetime =
scale = fvar(1),fvar(2)
;--------------------------------------

[State 210, 5]
type = selfState
trigger1 = Time = 10
value = 5150



;-------------------------------------------------------------------
;地図背景
[Statedef 14001]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

;--------------------------------------
[State -2, BG]
type = Explod
triggerall = NumExplod(14000)= 0
trigger1 = Time = 2
Persistent = 0
IgnoreHitPause = 1
;removeongethit = 1
anim = 14000
id=14000
pos = 0,0
postype = left
sprpriority = 6
ontop= Parent,Var(54)
bindtime = -1
removetime =-1
ownpal = 0
vel = 0,0
;Pausemovetime=
supermove = 1
;supermovetime =
scale =1.06,1.1
;--------------------------------------

;---------------------------------------- 調整
[State 8100, option]
type = PalFX
trigger1 = Time = 0
;mul = -255,-255,-255
add = -255,-255,-255
time = 1

[State 8100, option]
type = PalFX
trigger1 = Time = 1
mul = 230,190,165
;sinadd = 80,60,45,70
add = 1,1,1
time = 9999
Color=0
;---------------------------------------
;-------------------------------------------------------------------

;---------------------------------------------------------------------------
; 勝利セリフ表示 （地図）
[Statedef 14000]
type = S
ctrl = 0
anim = 9999
velset = 0,0

;--------------------------------------
[State 4001, 3]
type = EnvColor
trigger1 = Time = 0
add = 255,255,255
time = 10
;----------------------------------------
[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
;----------------------------------------

;----------------------------  固定
[State 2100, 2]; 演出
type = Helper
triggerall = numhelper(14001)= 0
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "MAP_BG"
pos =0,0
postype = p1
stateno = 14001
ID = 14001
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;----------------------------  固定
[State 3500 ]
type = BGPalfx    
trigger1 = time >= 0
;ignorehitpause = 1
;add = -100,-100,-100
add = 0,0,0
color = 0
time = 9999
invertall = 0
;persistent = 0  

[State 191, 2] ;
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay
;flag = Intro

[State 5151, 0]
type = AssertSpecial
trigger1 = Time = [0,430]
flag = RoundNotOver
flag2 = noautoturn


[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;-----------------------------------------------------------------------------------------
;黒河内夢路
;-----------------------------------------------------------------------------------------
;--------------------------------------勝ち「全ては・・・我旺様のために・・・」
[State -2,  夢路]
type = Explod
triggerall = var(3) =3
trigger1 = Time = 3
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 182
id=182
pos = 60,210
postype = left
sprpriority = 7
ontop=Var(54)
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

[State 230, 1]
type = PlaySnd
triggerall = var(3) =[3,4]
trigger1 = Time = 3
value = 1000,3
;----------------------------------
[State -2,  夢路]
type = Explod
triggerall = var(3) =4
trigger1 = Time = 3
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 183
id=183
pos = 60,210
postype = left
sprpriority = 7
ontop=Var(54)
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

[State -2,  夢路]
type = Explod
triggerall = var(3) =4
trigger1 = Time = 40
Persistent = 0
anim = 184
id=184
pos = 35,220
postype = left
sprpriority = 8
ontop=Var(54)
bindtime = -1
removetime =50
ownpal = 1
vel = 0,0

[State -2,  夢路]
type = Explod
triggerall = var(3) =4
trigger1 = Time = 100
Persistent = 0
anim = 185
id=185
pos = 35,210
postype = left
sprpriority = 8
ontop=Var(54)
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0

[State 230, SE]
type = PlaySnd
triggerall = var(3) =4
trigger1 = Time = 100
value = 0,4
;--------------------------------------勝ち「はっ！！」
[State -2,  夢路]
type = Explod
triggerall = var(3) =5
trigger1 = Time = 3
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 187
id=187
pos = 60,210
postype = left
sprpriority = 7
ontop=Var(54)
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

[State 230, 1]
type = PlaySnd
triggerall = var(3) =5
trigger1 = Time = 3
value = 200,0

[State 230, SE]
type = PlaySnd
triggerall = var(3) =5
trigger1 = Time = 40
value = 100,5

[State 230, SE]
type = PlaySnd
triggerall = var(3) =5
trigger1 = Time = 75
value = 0,4

;--------------------------------------勝ち「所詮、我旺様の敵では無い」
[State -2,  夢路]
type = Explod
triggerall = var(3) =6
trigger1 = Time = 3
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 186
id=186
pos = 60,210
postype = left
sprpriority = 7
ontop=Var(54)
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

[State 230, 1]
type = PlaySnd
triggerall = var(3) =6
trigger1 = Time = 3
value = 1000,4

;--------------------------------------勝ち「わたしの鼓動は止められない」
[State -2,  夢路]
type = Explod
triggerall = var(3) =7
trigger1 = Time = 3
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 188
id=188
pos = 60,210
postype = left
sprpriority = 7
ontop=Var(54)
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

;[State 230, 1]
;type = PlaySnd
;triggerall = var(3) =7
;trigger1 = Time = 3
;value = 1000,6

[State 230, 1]
type = PlaySnd
triggerall = var(3) =7
trigger1 = Time = 108
value = 11,1
;value = 1000,7
;-------------------------------------- ランダム
[State -2,  噴出し]
type = Explod
trigger1 = Time = 3
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 14010
id=14010
pos = 10,-20
postype = left
sprpriority = 7
ontop=Var(54)
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

[State -2,  セリフ]
type = Explod
trigger1 = Time = 4
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 14010+var(3)
id=14011
pos = 8,-20
postype = left
sprpriority = 8
ontop=Var(54)
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8
;----------------------------  夢路


;------------------------------------------------------------------------------------------------------------------
;秘剣 天つ風
;------------------------------------------------------------------------------------------------------------------
;秘剣 天つ風 溜め
[Statedef 2500]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 2500
sprpriority = 2




[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 30
movetime = 30
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17000
pos = -1,-37
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17010
pos = -1,-37
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1






;---------------------------------------
[State -2, 4];ボイス
type = PlaySnd
trigger1 = Time = 0
value = s1000,1
channel = 5

[State 210, SE]
type = PlaySnd
trigger1 = Time = 0
value = 100, 11
;---------------------------------------
[State -2, エフェクト]
type = Explod
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
removeongethit = 1
anim = 2501
id=2501
pos = 0,0
postype = p1
sprpriority = 1
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=-1
;supermove = 1
;supermovetime =
;---------------------------------------
[State -2,];溜め判定
type = Varadd
trigger1 = Time = 49
trigger2 = Time = 113
trigger3 = Time = 161
v = 56
value = 10

[State -2,];溜め解除
type = Varset
trigger1 = Time = 0
trigger2 = Time = 225
v = 56
value = 0
;---------------------------------------
[State 210, 5]
type = ChangeState
triggerall = Time >= 10
trigger1 = command = "x"
value = 2510
[State 210, 5]
type = ChangeState
triggerall = Time >= 10
trigger1 = command = "y"
value = 2520

;--------------------------------------- 溜めすぎランダム
[State 210, 5]
type = ChangeState
triggerall = Time = 100
trigger1 = var(12) = [0,50]
value = 2510
[State 210, 5]
type = ChangeState
triggerall = Time = 100
trigger1 = var(12) = [51,100]
value = 2520
;---------------------------------------

;--------------------------------------------------------------------
;秘剣 天つ風
;--------------------------------------------------------------------
;秘剣 天つ風 ダッシュ
[Statedef 2510]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 6,0
anim = 2510
sprpriority = 2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


;---------------------------------------
[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 45,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1
;---------------------------------------
[State 210, 5]
type = ChangeState
trigger1 = animTime = 0
value = 2511
;--------------------------------------------------------------------
; 秘剣　天つ風（攻撃）
[Statedef 2511]
type    = A
movetype= A
physics = n;S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 2511
sprpriority = 2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = var(56) = 30
trigger1 = AnimElem = 5
value = SCA
time=9

[State 230, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,0

[State 230, ボイス]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1
channel = 5

[State 230, SE]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100,13

[State 100 , 1]
type = Velset
trigger1 = AnimElem = 1
x = 5.0
y = ceil(-6.0-(var(56)*0.08))

[State 100 , 1]
type = Velset
trigger1 = AnimElem = 2 > 0
x = 2.0

[State 100 , 1]
type = Veladd
trigger1 = AnimElem = 1 > 0
y = 0.32

;-------------------------------------------------  剣光
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 4
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 2515
id=2515
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 6
id = 2515

[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 6
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 2516
id=2516
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =10
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;-------------------------------------------------  剣光

;-----------------------------  攻撃判定
[State 210, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = back
damage    = 300,30
hitflag    = MA
guardflag = H
pausetime = 16,16+var(23)
sparkno = S30002
guard.sparkno = S30040
sparkxy = -10,-10;58
hitsound   =s 8,var(2)
guardsound = s66,0
ground.type = High
fall = 1
air.recover = 0
fall.recover = 0
yaccel = .35
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -2.5,-6.5
air.velocity = -2.0,-6.0
guard.dist = 260
id=2511
envshake.time = 12
envshake.ampl = 6; or 7

;------------
;-------------------------------------------------- 演出ヘルパー
[State 100 , 5]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2512
;-------------------------------
;秘剣　天つ風　（着地）
[Statedef 2512]
type = S
physics = S
sprpriority = 2
ctrl = 0
anim = 47
[State 400, 1]
type = PlaySnd
trigger1 = Time = 0
value = 40, 0
[State 52, 2]
type = VelSet
trigger1 = Time = 0
y = 0
[State 52, 3]
type = PosSet
trigger1 = Time = 0
y = 0
[State 100 , 5]
type = ChangeState
trigger1 = time = 16
value = 0
ctrl = 1


;--------------------------------------------------------------------
;秘剣 霜風
;--------------------------------------------------------------------
[Statedef 2520]
type    = S
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 2520
sprpriority = 2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,ｺﾚﾉｫｵﾗﾉｫ]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[State 1200, Muteki];無敵
type = NotHitBy
trigger1 = var(56) = 30
trigger1 = time = 8
value = SCA
time=3

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 1
helpertype = normal
name = "en_efe"
ID = 12515
anim = 12516
pos = 60,0
sprpriority = 5
postype = p1
Pausemovetime=9999
supermovetime = 9999
removetime =32
bindtime = 1
keyctrl = 0
ownpal = 1

[State 230, ボイス]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,5
channel = 5

[State 230, SE]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100,13

[State 210, 1];刀収納
type = PlaySnd
trigger1 = AnimElem = 11
value = 0,4
;------------------------------------
[State 210, 2];ダウン判定時
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
animtype  = back
damage    = 300,30
priority  = 3
hitflag   = MA
guardflag = L
pausetime = 16,16+var(23)
sparkno = S30002
guard.sparkno = S30040
sparkxy = -10,-35
hitsound   =s 8,var(2)
guardsound = s66,0
ground.type = Trip
fall = 1
air.recover = 0
fall.recover = 0
yaccel = .35
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -0.5,-6.5
air.velocity = -4.0,-5.5
;---------------------- 画面端の設定
ground.cornerpush.veloff = -16.0
;air.cornerpush.veloff = 
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
;---------------------- 画面端の設定
id=2520
envshake.time = 12
envshake.ampl = 6; or 7

[State 100 , 1]
type = VelSet
trigger1 = AnimElem = 8 < 0
x = 5.0

[State 100 , 1]
type = VelSet
trigger1 = AnimElem = 8 > 0
x = 0
;-------------------------------------------------  剣光
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 4
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 2525
id=2525
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 6
id = 2525

[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 6
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 2526
id=2526
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =8
ownpal = 1
vel = 0,0
Pausemovetime=var(4)
;supermove = 1
;supermovetime =8
;-------------------------------------------------  剣光


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 6,1

[State 2100, 2]; 煙エフェクト挿入
type = Explod
trigger1 = AnimElem = 7
helpertype = normal
name = "en_efe"
ID = 4050
anim = 4050
pos = 60,0
sprpriority = 3
postype = p1
Pausemovetime=var(4)
supermovetime = 9999
removetime =18
bindtime = 1
keyctrl = 0
ownpal = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
;非剣 止風
;--------------------------------------------------------------------
[Statedef 2530]
type    = S
;movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 2530
sprpriority = 2

[State 210, 1];刀収納
type = PlaySnd
trigger1 = AnimElem = 6
value = 0,4

[State 210, ボイス]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 2
channel = 5
;-------------------------------------------------  剣光
[State -2,  夢路]
type = Explod
trigger1 = AnimElem = 6
Persistent = 0
anim = 185
id=185
pos = -25,0
postype = p1
sprpriority = 3
;ontop=0
bindtime = -1
removetime =20
ownpal = 1
vel = 0,0
[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------------
;バラバラ死体
;---------------------------------------------------------------------------------------------------
;左上
[Statedef 9992]
type    = A
physics = S
velset =0,0
anim = 9992
ctrl = 0
sprpriority = 8

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 0.0

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 30
value = 90.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 830, 0]
type = Velset
trigger1 = time = 12
y = -2.0

[State 830, 0]
type = Velset
trigger1 = time > 12
x = 1.2

[State 2101, 1]
type = veladd
trigger1 = time > 12
y = .15

[State 105, 5]
type = DestroySelf
trigger1 = time = 100
;-------------------------------------------------------------------
;右上
[Statedef 9993]
type    = A
physics = S
velset =0,0
anim = 9993
ctrl = 0
sprpriority = 8

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 0.0

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 30
value = -90.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 830, 0]
type = Velset
trigger1 = time = 12
y = -2.0

[State 830, 0]
type = Velset
trigger1 = time > 12
x = -1.2

[State 2101, 1]
type = veladd
trigger1 = time > 12
y = .15

[State 105, 5]
type = DestroySelf
trigger1 = time = 100
;-------------------------------------------------------------------
;左下　
[Statedef 9994]
type    = A
physics = S
velset =0,0
anim = 9994
ctrl = 0
sprpriority = 8

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 0.0

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 30
value = 90.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 830, 0]
type = Velset
trigger1 = time = 12
y = -1.0

[State 830, 0]
type = Velset
trigger1 = time > 12
x = 0.9

[State 2101, 1]
type = veladd
trigger1 = time > 12
y = .18

[State 105, 5]
type = DestroySelf
trigger1 = time = 100
;-------------------------------------------------------------------
;右下
[Statedef 9995]
type    = A
physics = S
velset =0,0
anim = 9995
ctrl = 0
sprpriority = 8

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 0.0

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 30
value = -90.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 830, 0]
type = Velset
trigger1 = time = 12
y = -1.0

[State 830, 0]
type = Velset
trigger1 = time > 12
x = -0.9

[State 2101, 1]
type = veladd
trigger1 = time > 12
y = .18

[State 105, 5]
type = DestroySelf
trigger1 = time = 100
;-------------------------------------------------------------------


;---------------------------------------------------------------------------
;死亡ＫＯ
;---------------------------------------------------------------------------
[Statedef 5950]
type    = S
movetype= H
physics = S
anim = 5950
ctrl = 0
sprpriority = 5
;----------------------
[State -2, ];声停止
type = StopSnd
trigger1 = Time = 0
channel = 5
[State 330, 1];色リセット
type = PalFX
trigger1 = Time = 0
time = 1
add = 0,0,0
ignorehitpause = 1
[State 5950, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
[State 5950, 2]
type = PlayerPush
trigger1 = 1
value = 0
[State 191, 0] 
type = AssertSpecial
trigger1 = 1
flag = nomusic
;---------------------------------------------------------------　返り血
[State -2];（インパクト音）
type = PlaySnd
trigger1 = anim = 5950
trigger1 = Time = 20
Persistent = 0
value = s5000,0
[State -2, インパクトエフェクト]
type = Explod
trigger1 = anim = 5950
trigger1 = Time = 20
Persistent = 0
IgnoreHitPause = 1
anim = 4230
id=4230
pos = 0,-50
postype = p1
sprpriority = 5
bindtime = 1
ontop = 1
ownpal = 1
vel = 0,0
;-------------------------------
[State -2];（噴出）
type = PlaySnd
trigger1 = anim = 5950
trigger1 = AnimElem = 2
Persistent = 0
value = s100,14
[State -2, ヒット拡散エフェクト（絶命噴出）]
type = Explod
trigger1 = anim = 5950
trigger1 = AnimElem = 2
IgnoreHitPause = 1
Persistent = 0
anim = 5955
id=5955
removetime = -1
pos = 0,-55
postype = p1
sprpriority = 7
bindtime = -1
ontop = 1
ownpal = 1
vel = 0,0

[State -2,エフェクト消去]
type = removeExplod
trigger1 = AnimElem = 3
id = 5955
;---------------------------------------------------------------　返り血

;---------------------------------------------------------------  切断される胴体
[State -2, BG];切断される胴体
type = Explod
triggerall = anim = 5950
trigger1 = AnimElem = 3
Persistent = 0
IgnoreHitPause = 1
anim = 5951
id=5951
pos = 0,0
postype = p1
sprpriority = 6
bindtime = -1
;removetime = 538
ownpal = 0
vel = 0,0
Pausemovetime=-1
supermove = 1
;supermovetime =

[State -2];振動
type = PlaySnd
triggerall = anim = 5950
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
value = s100,0

[State -2];振動 
type = EnvShake
triggerall = anim = 5950
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
time = 30
ampl = 5
freq = 60
phase = 45
;---------------------------------------------------------------  切断される胴体
[State 5950, 2]
type = ChangeAnim
trigger1 = HitOver && anim != 5950
value = 5950

[State 5001, 1]
type = null;VelSet
trigger1 = Time = 1
x = GetHitVar(xvel)*ifelse(facing = -1,-1,1)

[State 5001, 4]
type = VelSet
trigger1 = 1;HitOver
x = 0
y = 0

[State 5001, 4]
type = posSet
trigger1 = 1;HitOver
y = 0

[State 5001, 6]
type = ChangeState
trigger1 = anim = 5950 && animelem = 8
value = 5150
;---------------------------------------------------------------------------
;惨殺勝利
[Statedef 5960]
type = S
ctrl = 0
anim = 5
velset = 0,0
sprpriority = 1

[State -2]; 処理
Type = Varadd
trigger1 = var(9) != 2
trigger1 = time= 0
V = 9
Value = 1

[State 827, ]
type = ChangeAnim2
trigger1 = Time = 0
Persistent = 0
value = 5960

[State 5151, 0]
type = AssertSpecial
trigger1 = Time = [0,500]
flag = RoundNotOver

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State -2, エフェクト2]
type = Explod
trigger1 = Time = 100
trigger1 = TeamSide = 2
;trigger1 = facing = 1
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 189
id=189
pos = 230,50
postype = left
sprpriority = 1
ontop=1
bindtime = -1
removetime =180
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

[State -2, エフェクト2]
type = Explod
trigger1 = Time = 100
trigger1 = TeamSide = 1
;trigger1 = facing = -1
Persistent = 0
;IgnoreHitPause = 1
;removeongethit = 1
anim = 189
id=189
pos = 50,50
postype = left
sprpriority = 1
ontop=1
bindtime = -1
removetime =180
ownpal = 1
vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

;--------------------------------------
[State 210, 5];勝ちデモへ移行
type = ChangeState
trigger1 = Time = 320
value = 189
;-------------------------------------------------------------------
